category: Case Management
commonfields:
  id: Salesforce
  version: -1
configuration:
- defaultvalue: https://login.salesforce.com
  display: Instance URL
  name: InstanceURL
  required: true
  type: 0
- defaultvalue: ''
  display: Credentials
  name: credentials
  required: true
  type: 9
- defaultvalue: ''
  display: Consumer Key
  name: clientID
  required: true
  type: 0
- defaultvalue: ''
  display: Consumer Secret
  name: clientSecret
  required: true
  type: 4
- defaultvalue: ''
  display: Trust any certificate (not secure)
  name: insecure
  required: false
  type: 8
- defaultvalue: cases
  display: 'Fetch type: cases/comments (Only fetch comments when using the SalesforceAskUser
    automation)'
  name: fetchType
  required: false
  type: 0
- defaultvalue: ''
  display: Use system proxy settings
  name: useproxy
  required: false
  type: 8
- display: Fetch incidents
  name: isFetch
  required: false
  type: 8
- display: Incident type
  name: incidentType
  required: false
  type: 13
description: CRM Services
detaileddescription: "To set up Salesforce to work with Demisto:\nAdd a new connected\
  \ App in salesforce by following the instruction [here](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_defining_remote_access_applications.htm)\n\
  If you already have a connected App, go to \u201CSetup\u201D -> \u201CApp Manager\u201D\
  \ -> choose the correct App from the list and press \u201CView\u201D.\nThe Consumer\
  \ Key / Secret is under \u201CAPI (Enable OAuth Settings)\u201D\nFor detailed instructions\
  \ see the Credentials walkthrough section at [demisto support](https://support.demisto.com/hc/en-us/articles/360001848133-Integration-Salesforce)."
display: Salesforce
image: data:image/png;base64,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
name: Salesforce
script:
  commands:
  - arguments:
    - description: The string or number to search.
      name: pattern
      required: true
    description: Search records that contain values with pattern
    name: salesforce-search
    outputs:
    - contextPath: SalesForce.Case.ID
      description: The ID of the case object.
      type: string
    - contextPath: SalesForce.Case.CaseNumber
      description: The case number.
      type: string
    - contextPath: SalesForce.Case.Subject
      description: The subject of the case.
      type: string
    - contextPath: SalesForce.Case.Description
      description: The description of the case.
      type: string
    - contextPath: SalesForce.Case.CreateDate
      description: The creation date the case.
      type: date
    - contextPath: SalesForce.Case.ClosedDate
      description: The closure date of the case.
      type: date
    - contextPath: SalesForce.Case.Owner
      description: The owner of the case.
      type: string
    - contextPath: SalesForce.Case.Priority
      description: 'The priority of the Case. Can be: "Low", "Medium", or "High".'
      type: string
    - contextPath: SalesForce.Case.Origin
      description: 'The origin of the case. Can be: "Web", "Phone", or "Email".'
      type: string
    - contextPath: SalesForce.Case.Status
      description: 'The status of the case. Cam be: "New", "Escalated", "On Hold",
        or "Closed".'
      type: string
    - contextPath: SalesForce.Case.Reason
      description: The reason for the case creation.
      type: string
    - contextPath: SalesForce.Contact.ID
      description: ID of the contact.
      type: string
    - contextPath: SalesForce.Contact.Name
      description: The name of the contact.
      type: string
    - contextPath: SalesForce.Contact.Account
      description: The account associated with the Contact information.
      type: string
    - contextPath: SalesForce.Contact.Title
      description: The title of the contact.
      type: string
    - contextPath: SalesForce.Contact.Phone
      description: The phone number of the contact.
      type: string
    - contextPath: SalesForce.Contact.MobliePhone
      description: The mobile number of the contact.
      type: string
    - contextPath: SalesForce.Contact.Email
      description: The email of the contact.
      type: string
    - contextPath: SalesForce.Contact.Owner
      description: The owner of the contact.
      type: string
    - contextPath: SalesForce.Lead.ID
      description: The Lead ID.
      type: string
    - contextPath: SalesForce.Lead.Name
      description: The Lead name.
      type: string
    - contextPath: SalesForce.Lead.Title
      description: The title of the lead.
      type: string
    - contextPath: SalesForce.Lead.Company
      description: The Lead company.
      type: string
    - contextPath: SalesForce.Lead.Phone
      description: The Lead phone number.
      type: string
    - contextPath: SalesForce.Lead.Mobile
      description: The Lead Mobile Number.
      type: string
    - contextPath: SalesForce.Lead.Email
      description: The Lead email.
      type: string
    - contextPath: SalesForce.Lead.Owner
      description: The Lead owner.
      type: string
    - contextPath: SalesForce.Lead.Status
      description: 'The lead status. Can be: "New", "Nurturing", "Working", "Qualified",
        or "Unqualified".'
      type: string
    - contextPath: SalesForce.Task.ID
      description: The ID of the task.
      type: string
    - contextPath: SalesForce.Task.Subject
      description: The subject of the task.
      type: string
    - contextPath: SalesForce.Task.Lead
      description: The leader of the task.
      type: string
    - contextPath: SalesForce.Task.RelatedTo
      description: The relevant account.
      type: string
    - contextPath: SalesForce.Task.DueDate
      description: The due date of the task.
      type: date
    - contextPath: SalesForce.User.ID
      description: The ID of the user.
      type: string
    - contextPath: SalesForce.User.Name
      description: The name of the user.
      type: string
    - contextPath: SalesForce.User.Title
      description: The title of the user.
      type: string
    - contextPath: SalesForce.User.Phone
      description: The phone number of the user.
      type: string
    - contextPath: SalesForce.User.Email
      description: The email of the user.
      type: string
    - contextPath: SalesForce.Case.IsEscalated
      description: Is Escalated for Case
      type: boolean
    - contextPath: SalesForce.Case.SuppliedPhone
      description: Case Supplied Phone
      type: string
    - contextPath: SalesForce.Case.SuppliedCompany
      description: Case Supplied Company
      type: string
    - contextPath: SalesForce.Case.ContactEmail
      description: Case contact Email
      type: string
    - contextPath: SalesForce.Case.ContactId
      description: Case contact Id
      type: string
    - contextPath: SalesForce.Case.AccountId
      description: Case account ID
      type: string
  - arguments:
    - description: 'Query in SOQL format: "SELECT name from Account".'
      name: query
      required: true
    description: Queries Salesforce in SOQL format.
    execution: true
    name: salesforce-query
  - arguments:
    - description: The object path. For example, "Case/5000Y000001EjzRQAS" for Object
        "Case" with ID "5000Y000001EjzRQAS".
      name: path
      required: true
    description: Returns an object by its path.
    name: salesforce-get-object
    outputs:
    - contextPath: SalesForce.Case.ID
      description: The Object ID of the case.
      type: string
    - contextPath: SalesForce.Case.CaseNumber
      description: The case number.
      type: string
    - contextPath: SalesForce.Case.Subject
      description: The subject of the case.
      type: string
    - contextPath: SalesForce.Case.Description
      description: The description of the case.
      type: string
    - contextPath: SalesForce.Case.CreateDate
      description: The creation date of the case.
      type: date
    - contextPath: SalesForce.Case.ClosedDate
      description: The closure date of the case.
      type: date
    - contextPath: SalesForce.Case.Owner
      description: The owner of the case.
      type: string
    - contextPath: SalesForce.Case.Priority
      description: 'The priority of the case. Can be: "Low", "Medium", or "High".'
      type: string
    - contextPath: SalesForce.Case.Origin
      description: 'Origin of the case. Can be: "Web", "Phone", or "Email".'
      type: string
    - contextPath: SalesForce.Case.Status
      description: 'The status of the case. Can be: "New", "Escalated", "On Hold",
        or "Closed".'
      type: string
    - contextPath: SalesForce.Case.Reason
      description: The reason for the case creation.
      type: string
    - contextPath: SalesForce.Contact.ID
      description: The ID of the contact.
      type: string
    - contextPath: SalesForce.Contact.Name
      description: The name of the contact.
      type: string
    - contextPath: SalesForce.Contact.Account
      description: The account associated with the Contact information.
      type: string
    - contextPath: SalesForce.Contact.Title
      description: The title of the contact.
      type: string
    - contextPath: SalesForce.Contact.Phone
      description: The phone number of the contact.
      type: string
    - contextPath: SalesForce.Contact.MobliePhone
      description: The mobile number of the contact.
      type: string
    - contextPath: SalesForce.Contact.Email
      description: The email of the contact.
      type: string
    - contextPath: SalesForce.Contact.Owner
      description: The owner of the contact.
      type: string
    - contextPath: SalesForce.Lead.ID
      description: The Lead ID.
      type: string
    - contextPath: SalesForce.Lead.Name
      description: The Lead name.
      type: string
    - contextPath: SalesForce.Lead.Title
      description: The Lead title.
      type: string
    - contextPath: SalesForce.Lead.Company
      description: The Lead company.
      type: string
    - contextPath: SalesForce.Lead.Phone
      description: The Lead phone number.
      type: string
    - contextPath: SalesForce.Lead.Mobile
      description: The Lead mobile number.
      type: string
    - contextPath: SalesForce.Lead.Email
      description: The Lead email.
      type: string
    - contextPath: SalesForce.Lead.Owner
      description: The Lead owner.
      type: string
    - contextPath: SalesForce.Lead.Status
      description: 'The Lead status. Can be: "New", "Nurturing", "Working", "Qualified",
        or "Unqualified".'
      type: string
    - contextPath: SalesForce.Task.ID
      description: The ID of the task.
      type: string
    - contextPath: SalesForce.Task.Subject
      description: The subject of the task.
      type: string
    - contextPath: SalesForce.Task.Lead
      description: The leader of the task.
      type: string
    - contextPath: SalesForce.Task.RelatedTo
      description: The relevant account of the task.
      type: string
    - contextPath: SalesForce.Task.DueDate
      description: The due date of the task.
      type: date
    - contextPath: SalesForce.User.ID
      description: The ID of the user.
      type: string
    - contextPath: SalesForce.User.Name
      description: The name of the user.
      type: string
    - contextPath: SalesForce.User.Title
      description: The title of the user.
      type: string
    - contextPath: SalesForce.User.Phone
      description: The phone number of the user.
      type: string
    - contextPath: SalesForce.User.Email
      description: The email of the user.
      type: string
  - arguments:
    - description: The object path. For example, "Case/5000Y000001EjzRQAS" for Object
        "Case" with ID "5000Y000001EjzRQAS".
      name: path
      required: true
    - description: The JSON file with fields and values of the object to be updated.
      name: json
      required: true
    description: Updates object fields.
    execution: true
    name: salesforce-update-object
    outputs:
    - contextPath: SalesForce.Case.ID
      description: The object ID of the case.
      type: string
    - contextPath: SalesForce.Case.CaseNumber
      description: The case number.
      type: string
    - contextPath: SalesForce.Case.Subject
      description: The subject of the case.
      type: string
    - contextPath: SalesForce.Case.Description
      description: The description of the case.
      type: string
    - contextPath: SalesForce.Case.CreateDate
      description: The creation date of the case.
      type: date
    - contextPath: SalesForce.Case.ClosedDate
      description: The closure time of the case.
      type: date
    - contextPath: SalesForce.Case.Owner
      description: The owner of the case.
      type: string
    - contextPath: SalesForce.Case.Priority
      description: 'The priority of the case. Can be: "Low", "Medium", or "High".'
      type: string
    - contextPath: SalesForce.Case.Origin
      description: 'The origin of the Case. Can be: "Web", "Phone", or "Email".'
      type: string
    - contextPath: SalesForce.Case.Status
      description: 'The status of the case. Can be: "New", "Escalated", "On Hold"
        ,or "Closed".'
      type: string
    - contextPath: SalesForce.Case.Reason
      description: The reason for the case creation.
      type: string
    - contextPath: SalesForce.Contact.ID
      description: The ID of the contact.
      type: string
    - contextPath: SalesForce.Contact.Name
      description: The name of the contact.
      type: string
    - contextPath: SalesForce.Contact.Account
      description: The account associated with the Contact information.
      type: string
    - contextPath: SalesForce.Contact.Title
      description: The title of the contact.
      type: string
    - contextPath: SalesForce.Contact.Phone
      description: The phone number of the contact.
      type: string
    - contextPath: SalesForce.Contact.MobliePhone
      description: The mobile number of the contact.
      type: string
    - contextPath: SalesForce.Contact.Email
      description: The email of the contact.
      type: string
    - contextPath: SalesForce.Contact.Owner
      description: The owner of the contact.
      type: string
    - contextPath: SalesForce.Lead.ID
      description: The Lead ID.
      type: string
    - contextPath: SalesForce.Lead.Name
      description: The Lead name.
      type: string
    - contextPath: SalesForce.Lead.Title
      description: The Lead title.
      type: string
    - contextPath: SalesForce.Lead.Company
      description: The Lead company.
      type: string
    - contextPath: SalesForce.Lead.Phone
      description: The Lead phone number.
      type: string
    - contextPath: SalesForce.Lead.Mobile
      description: The Lead mobile number.
      type: string
    - contextPath: SalesForce.Lead.Email
      description: The Lead email.
      type: string
    - contextPath: SalesForce.Lead.Owner
      description: The Lead owner.
      type: string
    - contextPath: SalesForce.Lead.Status
      description: 'The Lead Status. Can be: "New", "Nurturing", "Working", "Qualified",
        or "Unqualified".'
      type: string
    - contextPath: SalesForce.Task.ID
      description: The ID of the task.
      type: string
    - contextPath: SalesForce.Task.Subject
      description: The subject of the task.
      type: string
    - contextPath: SalesForce.Task.Lead
      description: The leader of the task.
      type: string
    - contextPath: SalesForce.Task.RelatedTo
      description: The relevant account.
      type: string
    - contextPath: SalesForce.Task.DueDate
      description: The due date of the task.
      type: date
    - contextPath: SalesForce.User.ID
      description: The ID of the user.
      type: string
    - contextPath: SalesForce.User.Name
      description: The name of the user.
      type: string
    - contextPath: SalesForce.User.Title
      description: The title of the user.
      type: string
    - contextPath: SalesForce.User.Phone
      description: The phone number of the user.
      type: string
    - contextPath: SalesForce.User.Email
      description: The email of the user.
      type: string
  - arguments:
    - description: The object path. For example, "Case" for Object "Case".
      name: path
      required: true
    - description: The JSON file with fields and values of the object to be created.
      name: json
      required: true
    description: Creates a new object.
    execution: true
    name: salesforce-create-object
    outputs:
    - contextPath: SalesForce.Case.ID
      description: The Object ID of the case.
      type: string
    - contextPath: SalesForce.Case.CaseNumber
      description: The case number.
      type: string
    - contextPath: SalesForce.Case.Subject
      description: The subject of the case.
      type: string
    - contextPath: SalesForce.Case.Description
      description: The description of the case.
      type: string
    - contextPath: SalesForce.Case.CreateDate
      description: The creation date of the case.
      type: date
    - contextPath: SalesForce.Case.ClosedDate
      description: The closure date of the case.
      type: date
    - contextPath: SalesForce.Case.Owner
      description: The owner of the case.
      type: string
    - contextPath: SalesForce.Case.Priority
      description: 'The priority of the case. Can be: "Low", "Medium", "High".'
      type: string
    - contextPath: SalesForce.Case.Origin
      description: 'Origin of the Case. Can be: "Web", "Phone", or "Email".'
      type: string
    - contextPath: SalesForce.Case.Status
      description: 'The status of the case. Can be: "New", "Escalated", "On Hold",
        or "Closed".'
      type: string
    - contextPath: SalesForce.Case.Reason
      description: The reason for the case creation.
      type: string
    - contextPath: SalesForce.Contact.ID
      description: The ID of the contact.
      type: string
    - contextPath: SalesForce.Contact.Name
      description: The name of the contact.
      type: string
    - contextPath: SalesForce.Contact.Account
      description: The account associated with the Contact information.
      type: string
    - contextPath: SalesForce.Contact.Title
      description: The title of the contact.
      type: string
    - contextPath: SalesForce.Contact.Phone
      description: The phone number of the contact.
      type: string
    - contextPath: SalesForce.Contact.MobliePhone
      description: The mobile number of the contact.
      type: string
    - contextPath: SalesForce.Contact.Email
      description: The email of the contact.
      type: string
    - contextPath: SalesForce.Contact.Owner
      description: The owner of the contact.
      type: string
    - contextPath: SalesForce.Lead.ID
      description: The Lead ID.
      type: string
    - contextPath: SalesForce.Lead.Name
      description: The Lead name.
      type: string
    - contextPath: SalesForce.Lead.Title
      description: The Lead title.
      type: string
    - contextPath: SalesForce.Lead.Company
      description: The Lead company.
      type: string
    - contextPath: SalesForce.Lead.Phone
      description: The Lead phone number.
      type: string
    - contextPath: SalesForce.Lead.Mobile
      description: The Lead mobile number.
      type: string
    - contextPath: SalesForce.Lead.Email
      description: The Lead email.
      type: string
    - contextPath: SalesForce.Lead.Owner
      description: The Lead owner.
      type: string
    - contextPath: SalesForce.Lead.Status
      description: 'The Lead status. Can be: "New", "Nurturing", "Working", "Qualified",
        or "Unqualified".'
      type: string
    - contextPath: SalesForce.Task.ID
      description: The ID of the task.
      type: string
    - contextPath: SalesForce.Task.Subject
      description: The subject of the task.
      type: string
    - contextPath: SalesForce.Task.Lead
      description: The leader of the task.
      type: string
    - contextPath: SalesForce.Task.RelatedTo
      description: The relevant account of the task.
      type: string
    - contextPath: SalesForce.Task.DueDate
      description: The due date of the task.
      type: date
    - contextPath: SalesForce.User.ID
      description: The ID of the user.
      type: string
    - contextPath: SalesForce.User.Name
      description: The name of the user.
      type: string
    - contextPath: SalesForce.User.Title
      description: The title of the user.
      type: string
    - contextPath: SalesForce.User.Phone
      description: The phone number of the user.
      type: string
    - contextPath: SalesForce.User.Email
      description: The email of the user.
      type: string
  - arguments:
    - description: The Object ID of subject.
      name: oid
      required: true
    - description: Chat text
      name: text
      required: true
    - description: Adds a link to the message.
      name: link
    description: Adds a comment to Chatter.
    name: salesforce-push-comment
    outputs:
    - contextPath: SalesForce.Comment.Body
      description: The body of the comment.
      type: string
    - contextPath: SalesForce.Comment.CreatedDate
      description: The created date of the comment.
      type: date
    - contextPath: SalesForce.Comment.Title
      description: The title of the comment.
      type: string
    - contextPath: SalesForce.Comment.ParentType
      description: The parent type of the comment.
      type: string
    - contextPath: SalesForce.Comment.ParentName
      description: The parent name of the comment.
      type: string
    - contextPath: SalesForce.Comment.URL
      description: The URL link of the comment.
      type: string
    - contextPath: SalesForce.Comment.Visibility
      description: The visibility of the comment.
      type: string
  - arguments:
    - description: The Object ID of the case.
      name: oid
    - description: Case number of case
      name: caseNumber
    description: Returns information on a case. All arguments are optional, but you
      must specify at least one for the command to execute successfully.
    name: salesforce-get-case
    outputs:
    - contextPath: SalesForce.Case.ID
      description: The Object ID of the case.
      type: string
    - contextPath: SalesForce.Case.CaseNumber
      description: The case number.
      type: string
    - contextPath: SalesForce.Case.Subject
      description: The subject of the case.
      type: string
    - contextPath: SalesForce.Case.Description
      description: The description of the case.
      type: string
    - contextPath: SalesForce.Case.CreateDate
      description: The creation date of the case.
      type: date
    - contextPath: SalesForce.Case.ClosedDate
      description: The closure date of the case.
      type: date
    - contextPath: SalesForce.Case.Owner
      description: The owner of the case.
      type: string
    - contextPath: SalesForce.Case.Priority
      description: 'The priority of the case. Can be: "Low", "Medium", or "High".'
      type: string
    - contextPath: SalesForce.Case.Origin
      description: 'The origin of the case. Can be: "Web", "Phone", or "Email".'
      type: string
    - contextPath: SalesForce.Case.Status
      description: 'The status of the case. Can be: "New", "Escalated", "On Hold",
        or "Closed".'
      type: string
    - contextPath: SalesForce.Case.Reason
      description: The reason for the case creation.
      type: string
  - arguments:
    - default: true
      description: The case subject.
      name: subject
      required: true
    - description: The case description.
      name: description
    - auto: PREDEFINED
      defaultValue: New
      description: 'The Case Status. Can be: "New", "On Hold", "Closed", or "Escalated".
        Default is New.'
      name: status
      predefined:
      - New
      - On Hold
      - Closed
      - Escalated
      required: true
    - auto: PREDEFINED
      description: 'The case origin. Can be: "Email", "Phone", or "Web".'
      name: origin
      predefined:
      - Email
      - Phone
      - Web
    - auto: PREDEFINED
      defaultValue: Low
      description: 'The case priority. Can be: "Low", "Medium", or "High".'
      name: priority
      predefined:
      - Low
      - Medium
      - High
    - auto: PREDEFINED
      description: 'The case type. Can be: "Question", "Problem", or "Feature Request".'
      name: type
      predefined:
      - Question
      - Problem
      - Feature Request
    description: Creates a new case.
    name: salesforce-create-case
    outputs:
    - contextPath: SalesForce.Case.ID
      description: The Object ID of the case.
      type: string
    - contextPath: SalesForce.Case.CaseNumber
      description: The case number.
      type: string
    - contextPath: SalesForce.Case.Subject
      description: The subject of the case.
      type: string
    - contextPath: SalesForce.Case.Description
      description: The description of the case.
      type: string
    - contextPath: SalesForce.Case.CreateDate
      description: The creation date of the case.
      type: date
    - contextPath: SalesForce.Case.ClosedDate
      description: The closure date of the case.
      type: date
    - contextPath: SalesForce.Case.Owner
      description: The owner of the case.
      type: string
    - contextPath: SalesForce.Case.Priority
      description: 'The priority of the case. Can be: "Low", "Medium", or "High".'
      type: string
    - contextPath: SalesForce.Case.Origin
      description: 'The origin of the case. Can be: "Web", "Phone", or "Email".'
      type: string
    - contextPath: SalesForce.Case.Status
      description: 'The status of the case. Can be: "New", "Escalated", "On Hold",
        or "Closed".'
      type: string
    - contextPath: SalesForce.Case.Reason
      description: The reason for the case creation.
      type: string
  - arguments:
    - description: The Object ID of the case.
      name: oid
    - description: The case number.
      name: caseNumber
    - description: The case subject.
      name: subject
    - description: The case description.
      name: description
    - auto: PREDEFINED
      description: 'The case status. Can be: "New", "On Hold", "Closed", or "Escalated".'
      name: status
      predefined:
      - New
      - On Hold
      - Closed
      - Escalated
    - auto: PREDEFINED
      description: 'The case origin. Can be: "Email", "Phone", or "Web".'
      name: origin
      predefined:
      - Email
      - Phone
      - Web
    - auto: PREDEFINED
      description: 'The case priority. Can be: "Low", "Medium", or "High".'
      name: priority
      predefined:
      - Low
      - Medium
      - High
    - auto: PREDEFINED
      description: 'The case type. Can be: "Question", "Problem", or "Feature Request".'
      name: type
      predefined:
      - Question
      - Problem
      - Feature Request
    description: Updates case fields.
    name: salesforce-update-case
    outputs:
    - contextPath: SalesForce.Case.ID
      description: The Object ID of the case.
      type: string
    - contextPath: SalesForce.Case.CaseNumber
      description: The number of the case.
      type: string
    - contextPath: SalesForce.Case.Subject
      description: The subject of the case.
      type: string
    - contextPath: SalesForce.Case.Description
      description: The description of the case.
      type: string
    - contextPath: SalesForce.Case.CreateDate
      description: The creation date of the case.
      type: date
    - contextPath: SalesForce.Case.ClosedDate
      description: The closure date of the case.
      type: date
    - contextPath: SalesForce.Case.Owner
      description: The owner of the case.
      type: string
    - contextPath: SalesForce.Case.Priority
      description: 'The priority of the case. Can be: "Low", "Medium", or "High".'
      type: string
    - contextPath: SalesForce.Case.Origin
      description: 'Origin of the Case. Can be: "Web", "Phone", or "Email".'
      type: string
    - contextPath: SalesForce.Case.Status
      description: 'The status of the case. Can be: "New, "Escalated", "On Hold",
        or "Closed".'
      type: string
    - contextPath: SalesForce.Case.Reason
      description: Reason for the case creation.
      type: string
  - arguments: []
    description: Returns all cases.
    name: salesforce-get-cases
  - arguments:
    - description: The case Object ID.
      name: oid
    - description: The case number.
      name: caseNumber
    description: Close a case
    important:
    - contextPath: SalesForce.Case.Status
      description: Case Status. Will be 'Closed'.
      related: ''
    name: salesforce-close-case
    outputs:
    - contextPath: SalesForce.Case.ID
      description: The Object ID of the case.
      type: string
    - contextPath: SalesForce.Case.CaseNumber
      description: The case number.
      type: string
    - contextPath: SalesForce.Case.Subject
      description: The subject of the case.
      type: string
    - contextPath: SalesForce.Case.Description
      description: Case Description
      type: string
    - contextPath: SalesForce.Case.CreateDate
      description: Creation Time of Case
      type: date
    - contextPath: SalesForce.Case.ClosedDate
      description: Closure Time of Case
      type: date
    - contextPath: SalesForce.Case.Owner
      description: Case Owner
      type: string
    - contextPath: SalesForce.Case.Priority
      description: Priority of the Case. one of Low, Medium, High.
      type: string
    - contextPath: SalesForce.Case.Origin
      description: Origin of the Case. one of Web, Phone, Email.
      type: string
    - contextPath: SalesForce.Case.Status
      description: 'Case Status. one of the following: New, Escalated, On Hold or
        Closed.'
      type: string
    - contextPath: SalesForce.Case.Reason
      description: Reason for case creation
      type: string
  - arguments:
    - description: The Chatter comment Thread ID
      name: id
      required: true
    - description: The comment text
      name: text
      required: true
    description: Add the comment to the chatter thread. Use this command only after
      salesforce-push-comment
    name: salesforce-push-comment-threads
    outputs:
    - contextPath: SalesForce.Comment.Reply.Body
      description: Reply body
      type: string
    - contextPath: SalesForce.Comment.Reply.CreatedDate
      description: Reply created date
      type: date
    - contextPath: SalesForce.Comment.Reply.URL
      description: Reply URL link
      type: string
  - arguments:
    - description: The Object ID of the case.
      name: oid
    - description: The case number.
      name: caseNumber
    description: Deletes a case.
    name: salesforce-delete-case
  - arguments:
    - description: Returns information of a case.
      name: oid
    - description: The case number of the case.
      name: caseNumber
    description: Returns a comment through the case number.
    name: salesforce-get-casecomment
    outputs:
    - contextPath: ID
      description: The ID of the case.
      type: string
    - contextPath: ParentId
      description: The ID of the parent case of the case comment. Required.
      type: string
    - contextPath: IsPublished
      description: Whether the case comment is visible to customers in the Self-Service
        portal (true). The label is published. This is the only CaseComment field
        that can be updated through the API.
      type: boolean
    - contextPath: CommentBody
      description: The text of the case body. Maximum size is 4,000 bytes. The label
        is Body.
      type: string
    - contextPath: CreatedById
      description: The created date by ID.
    - contextPath: CreatedDate
      description: The created date.
      type: string
    - contextPath: SystemModstamp
      description: The SystemMod stamp.
      type: string
    - contextPath: LastModifiedDate
      description: 'The last modified date. '
      type: string
    - contextPath: LastModifiedById
      description: The last modified date by ID.
      type: string
    - contextPath: IsDeleted
      description: Whether the object has been moved to the Recycle Bin (true). Label
        is Deleted.
      type: boolean
  - arguments:
    - description: The Object ID of the case.
      name: oid
    - description: The case number of the case.
      name: caseNumber
    - description: Added Text to context
      name: text
    description: The post comment through the case number.
    name: salesforce-post-casecomment
  - arguments:
    - description: The Object ID of the case.
      name: oid
    - description: The case number of the case.
      name: caseNumber
    description: Returns the UserName through the case number.
    name: salesforce-get-user
    outputs:
    - contextPath: ID
      description: The ID of the case.
      type: string
    - contextPath: Alias
      description: "The user\u2019s alias. Required. For example, jsmith."
      type: string
    - contextPath: CommunityNickname
      description: The name used to identify the user in the Community application,
        which includes the ideas and answers features.
      type: string
    - contextPath: CreatedById
      description: Created by the ID.
      type: string
    - contextPath: Email
      description: "The user\u2019s email address. Required."
      type: string
    - contextPath: LastLoginDate
      description: "The time and date when the user last successfully logged in. This\
        \ value is updated if 60 seconds have elapsed since the user\u2019s last login."
      type: string
    - contextPath: LastModifiedDate
      description: The last modified date.
      type: string
    - contextPath: LastName
      description: "The user\u2019s last name. Required."
      type: string
    - contextPath: Name
      description: Concatenation of FirstName and LastName. Limited to 121 characters.
      type: string
    - contextPath: Username
      description: Contains the name that a user enters to log in to the API or the
        user interface. Required. Must be in the form of an email address, all characters
        should be lowercase, and unique across all organizations. Each added user
        counts as a license. Every organization has a maximum number of licenses.
        If you attempt to exceed the maximum number of licenses by inserting user
        records, the attempt to create a user is rejected.
      type: string
    - contextPath: UserRoleId
      description: "The ID of the user\u2019s UserRole. Label is Role ID."
      type: string
  - arguments:
    - description: The case number of the case.
      name: caseNumber
    description: 'Returns organization details from the case number. '
    name: salesforce-get-org
    outputs:
    - contextPath: ID
      description: The unique ID of the case.
      type: string
    - contextPath: Name
      description: Name of the account. Required. Label is Account Name. Maximum size
        is 255 characters. If the account has a record type of Person Account, this
        value is the concatenation of the FirstName, MiddleName, LastName, and Suffix
        of the associated person contact. You cannot modify this value.
      type: string
  isfetch: true
  runonce: false
  script: "var URI_PREFIX = '/services/data/v39.0/';\nvar SESSION_DATA = '';\n\nfunction\
    \ getNewToken() {\n    var request = {\n        grant_type: 'password',\n    \
    \    client_id: params.clientID,\n        client_secret: params.clientSecret,\n\
    \        username: params.credentials.identifier,\n        password: params.credentials.password\n\
    \        };\n\n    var body = encodeToURLQuery(request).substr(1);\n    var response\
    \ = http(\n        params.InstanceURL + '/services/oauth2/token',\n        {\n\
    \            Method: 'POST',\n            Headers: {'Content-Type': ['application/x-www-form-urlencoded']},\n\
    \            Body: body,\n        },\n        params.insecure === false,\n   \
    \     params.useproxy\n    );\n    if (response.StatusCode < 200 || response.StatusCode\
    \ >= 300) {\n        throw 'Failed to get new token, request status code: ' +\
    \ response.StatusCode + ' and Body: ' + response.Body + '.';\n    }\n    return\
    \ JSON.parse(response.Body);\n}\n\n\nfunction sendRequest(method, url, body, token)\
    \ {\n    var headers = {};\n    if (token) {\n        headers['Authorization']\
    \ = ['Bearer ' + token];\n    }\n    if (method == 'POST' || method == 'PATCH')\
    \ {\n        headers['Content-Type'] = ['application/json'];\n    }\n    return\
    \ http(\n        url,\n        {\n            Method: method,\n            Headers:\
    \ headers,\n            Body: body,\n        },\n        params.insecure === false,\n\
    \        params.useproxy\n    );\n}\n\nfunction sendRequestInSession(method, uri,\
    \ body) {\n    if (!SESSION_DATA || !SESSION_DATA.access_token) {\n        throw\
    \ \"Faield to get access token for Salesforce integration.\";\n    }\n    var\
    \ response = sendRequest(method, SESSION_DATA.instance_url + URI_PREFIX + uri,\
    \ body, SESSION_DATA.access_token);\n    if (response.StatusCode === 401) {\n\
    \        SESSION_DATA = getNewToken();\n        response = sendRequest(method,\
    \ SESSION_DATA.instance_url + URI_PREFIX + uri, body, SESSION_DATA.access_token);\n\
    \    }\n    if (response.StatusCode < 200 || response.StatusCode >= 300) {\n \
    \           throw 'Failed to run command uri: ' + uri + ', request status code:\
    \ ' + response.StatusCode + ' and Body: ' + response.Body + '.';\n    }\n    return\
    \ response;\n}\n\n\nfunction getUserNames() {\n    var res = queryObjects(['Id',\
    \ 'Name'], 'User');\n    var users = {};\n    for (var i in res.records) {\n \
    \       users[res.records[i].Id] = res.records[i].Name;\n    }\n\n    return users;\n\
    }\n\n\nfunction commentToEntry(raw_info, title, userMapping) {\n    // fix owner\
    \ field\n    if (userMapping) {\n        for (var i in raw_info) {\n         \
    \   // use OwnerId if no user was found\n            raw_info[i].OwnerId = userMapping[raw_info[i].OwnerId]\
    \ || raw_info[i].OwnerId;\n        }\n    }\n\n    return createEntry(raw_info,\
    \ {\n        contextPath: 'SalesForce.CaseComment(val.ID && val.ID == obj.ID)',\n\
    \        title: title,\n        data: [\n            {to: 'ID', from: 'Id', humanReadable:\
    \ false},\n            {to: 'ParentId', from: 'ParentId'},\n            {to: 'IsPublished',\
    \ from: 'IsPublished'},\n            {to: 'CommentBody', from: 'CommentBody'},\n\
    \            {to: 'CreatedById', from: 'CreatedById'},\n            {to: 'CreatedDate',\
    \ from: 'CreatedDate'},\n            {to: 'SystemModstamp', from: 'SystemModstamp'},\n\
    \            {to: 'LastModifiedDate', from: 'LastModifiedDate'},\n           \
    \ {to: 'LastModifiedById', from: 'LastModifiedById'},\n            {to: 'IsDeleted',\
    \ from: 'IsDeleted'}\n        ]\n    });\n}\n\n\nfunction userToEntry(raw_info,\
    \ title, userMapping) {\n    // fix owner field\n    if (userMapping) {\n    \
    \    for (var i in raw_info) {\n            // use OwnerId if no user was found\n\
    \            raw_info[i].OwnerId = userMapping[raw_info[i].OwnerId] || raw_info[i].OwnerId;\n\
    \        }\n    }\n\n    return createEntry(raw_info, {\n        contextPath:\
    \ 'SalesForce.User(val.ID && val.ID == obj.ID)',\n        title: title,\n    \
    \    data: [\n            {to: 'ID', from: 'Id', humanReadable: false},\n    \
    \        {to: 'Alias', from: 'Alias'},\n            {to: 'CommunityNickname',\
    \ from: 'CommunityNickname'},\n            {to: 'CreatedById', from: 'CreatedById'},\n\
    \            {to: 'Email', from: 'Email'},\n            {to: 'LastLoginDate',\
    \ from: 'LastLoginDate'},\n            {to: 'LastModifiedDate', from: 'LastModifiedDate'},\n\
    \            {to: 'LastName', from: 'LastName'},\n            {to: 'Name', from:\
    \ 'Name'},\n            {to: 'Username', from: 'Username'},\n            {to:\
    \ 'UserRoleId', from: 'UserRoleId'}\n        ]\n    });\n}\n\n\nfunction orgToEntry(raw_info,\
    \ title, userMapping) {\n    // fix owner field\n    if (userMapping) {\n    \
    \    for (var i in raw_info) {\n            // use OwnerId if no user was found\n\
    \            raw_info[i].OwnerId = userMapping[raw_info[i].OwnerId] || raw_info[i].OwnerId;\n\
    \        }\n    }\n\n    return createEntry(raw_info, {\n        contextPath:\
    \ 'SalesForce.GetOrg(val.ID && val.ID == obj.ID)',\n        title: title,\n  \
    \      data: [\n            {to: 'ID', from: 'Id', humanReadable: false},\n  \
    \          {to: 'Name', from: 'Name'}\n        ]\n    });\n}\n\nfunction casesToEntry(raw_info,\
    \ title, userMapping) {\n    // fix owner field\n    if (userMapping) {\n    \
    \    for (var i in raw_info) {\n            // use OwnerId if no user was found\n\
    \            raw_info[i].OwnerId = userMapping[raw_info[i].OwnerId] || raw_info[i].OwnerId;\n\
    \        }\n    }\n\n    return createEntry(raw_info, {\n        contextPath:\
    \ 'SalesForce.Case(val.ID && val.ID == obj.ID)',\n        title: title,\n    \
    \    data: [\n            {to: 'ID', from: 'Id', humanReadable: false},\n    \
    \        {to: 'CaseNumber', from: 'CaseNumber'},\n            {to: 'Subject',\
    \ from: 'Subject'},\n            {to: 'Description', from: 'Description'},\n \
    \           {to: 'CreatedDate', from: 'CreatedDate'},\n            {to: 'ClosedDate',\
    \ from: 'ClosedDate'},\n            {to: 'Owner', from: 'OwnerId'},\n        \
    \    {to: 'Priority', from: 'Priority'},\n            {to: 'Origin', from: 'Origin'},\n\
    \            {to: 'Status', from: 'Status'},\n            {to: 'Reason', from:\
    \ 'Reason'},\n            {to: 'IsEscalated', from: 'IsEscalated'},\n        \
    \    {to: 'SuppliedPhone', from: 'SuppliedPhone'},\n            {to: 'SuppliedCompany',\
    \ from: 'SuppliedCompany'},\n            {to: 'SuppliedEmail', from: 'SuppliedEmail'},\n\
    \            {to: 'ContactEmail', from: 'ContactEmail'},\n            {to: 'ContactId',\
    \ from: 'ContactId'},\n            {to: 'AccountId', from: 'AccountId'},\n   \
    \         {to: 'Id', from: 'Id'}\n\n        ]\n    });\n}\n\n\nfunction contactsToEntry(raw_info,\
    \ title, userMapping, accountMapping) {\n    var i;\n    // fix owner field\n\
    \    if (userMapping) {\n        for (i in raw_info) {\n            // use OwnerId\
    \ if no user was found\n            raw_info[i].OwnerId = userMapping[raw_info[i].OwnerId]\
    \ || raw_info[i].OwnerId;\n        }\n    }\n    if (accountMapping) {\n     \
    \   for (i in raw_info) {\n            // use AccountId if no account was found\n\
    \            raw_info[i].AccountId = accountMapping[raw_info[i].AccountId] ||\
    \ raw_info[i].AccountId;\n        }\n    }\n\n    return createEntry(raw_info,\
    \ {\n        contextPath: 'SalesForce.Contact(val.ID && val.ID == obj.ID)',\n\
    \        title: title,\n        data: [\n            {to: 'ID', from: 'Id', humanReadable:\
    \ false},\n            {to: 'Name', from: 'Name'},\n            {to: 'Account',\
    \ from: 'AccountId'},\n            {to: 'Title', from: 'Title'},\n           \
    \ {to: 'Phone', from: 'Phone'},\n            {to: 'Mobile', from: 'MobilePhone'},\n\
    \            {to: 'Email', from: 'Email'},\n            {to: 'Owner', from: 'OwnerId'},\n\
    \        ]\n    });\n}\n\nfunction leadsToEntry(raw_info, title, userMapping)\
    \ {\n    // fix owner field\n    if (userMapping) {\n        for (var i in raw_info)\
    \ {\n            // use OwnerId if no user was found\n            raw_info[i].OwnerId\
    \ = userMapping[raw_info[i].OwnerId] || raw_info[i].OwnerId;\n        }\n    }\n\
    \    return createEntry(raw_info, {\n        contextPath: 'SalesForce.Lead(val.ID\
    \ && val.ID == obj.ID)',\n        title: title,\n        data: [\n           \
    \ {to: 'ID', from: 'Id', humanReadable: false},\n            {to: 'Name', from:\
    \ 'Name'},\n            {to: 'Title', from: 'Title'},\n            {to: 'Company',\
    \ from: 'Company'},\n            {to: 'Phone', from: 'Phone'},\n            {to:\
    \ 'Mobile', from: 'MobilePhone'},\n            {to: 'Email', from: 'Email'},\n\
    \            {to: 'Owner', from: 'OwnerId'},\n            {to: 'Status', from:\
    \ 'Status'}\n        ]\n    });\n}\n\nfunction tasksToEntry(raw_info, title, lead_dict)\
    \ {\n    // fix owner field\n    if (leadMapping) {\n        for (var i in raw_info)\
    \ {\n            // use WhoId if no lead was found\n            raw_info[i].WhoId\
    \ = leadMapping[raw_info[i].WhoId] || raw_info[i].WhoId;\n        }\n    }\n\n\
    \    return createEntry(raw_info, {\n        contextPath: 'SalesForce.Task(val.ID\
    \ && val.ID == obj.ID)',\n        title: title,\n        data: [\n           \
    \ {to: 'ID', from: 'Id', humanReadable: false},\n            {to: 'Subject', from:\
    \ 'Subject'},\n            {to: 'Lead', from: 'WhoId'},\n            {to: 'RelatedTo',\
    \ from: 'RelatedTo'},\n            {to: 'DueDate', from: 'ActivityDate'}\n   \
    \     ]\n    });\n}\n\nfunction usersToEntry(raw_info, title) {\n    return createEntry(raw_info,\
    \ {\n        contextPath: 'SalesForce.GetUsers(val.ID && val.ID == obj.ID)',\n\
    \        title: title,\n        data: [\n            {to: 'ID', from: 'Id', humanReadable:\
    \ false},\n            {to: 'Name', from: 'Name'},\n            {to: 'Alias',\
    \ from: 'Alias'},\n            {to: 'CommunityNickname', from: 'CommunityNickname'},\n\
    \            {to: 'Title', from: 'Title'},\n            {to: 'Phone', from: 'Phone'},\n\
    \            {to: 'Email', from: 'Email'},\n            {to: 'FirstName', from:\
    \ 'FirstName'},\n            {to: 'Username', from: 'Username'}\n        ]\n \
    \   });\n}\n\nfunction objectToEntry(obj_type, obj) {\n    var userMapping = getUserNames();\n\
    \    switch (obj_type) {\n        case 'CaseComment':\n            return commentToEntry([obj],\
    \ 'CaseComment:', userMapping);\n        case 'getOrgName':\n            return\
    \ orgToEntry([obj], 'getOrgName:', userMapping);\n        case 'userToEntry':\n\
    \            return userToEntry([obj],'getUser', userMapping);\n        case 'Case':\n\
    \            return casesToEntry([obj], 'Case:', userMapping);\n        case 'Contact':\n\
    \            accountMapping = undefined; // TODO: implement\n            return\
    \ contactsToEntry([obj], 'Contact:', userMapping, accountMapping);\n        case\
    \ 'Lead':\n            return leadsToEntry([obj], 'Lead:', userMapping);\n   \
    \     case 'Task':\n            leadMapping = undefined; // TODO: implement\n\
    \            return tasksToEntry([obj], 'Lead:', leadMapping);\n        case 'User':\n\
    \            return usersToEntry([obj], 'User:');\n        default:\n        \
    \    return obj;\n    }\n}\n\nfunction queryToEntry(query) {\n    return {\n \
    \       Type : entryTypes.note,\n        Contents : query.records,\n        ContentsFormat:\
    \ formats.json,\n        ReadableContentsFormat: formats.markdown,\n        HumanReadable\
    \ : tableToMarkdown('Query Results', query.records)\n    };\n}\n\nfunction searchToEntry(searchRecords)\
    \ {\n    if (searchRecords.length === 0) {\n        return {\n            Type\
    \ : entryTypes.Note,\n            Contents : 'No records matched the search.',\n\
    \            // ContentsFormat: formats.json,\n            ReadableContentsFormat:\
    \ formats.markdown\n        };\n    }\n\n    var case_ids = [];\n    var contact_ids\
    \ = [];\n    var lead_ids = [];\n    var task_ids = [];\n    var user_ids = [];\n\
    \    var general = [];\n    var case_comment = [];\n    var get_org = [];\n\n\
    \    for (var i in searchRecords) {\n        switch (searchRecords[i].attributes.type)\
    \ {\n            case 'CaseComment':\n                case_comment.push(searchRecords[i].Id);\n\
    \                break;\n            case 'getOrgName':\n                get_org.push(searchRecords[i].Id);\n\
    \                break;\n            case 'Case':\n                case_ids.push(searchRecords[i].Id);\n\
    \                break;\n            case 'Contact':\n                contact_ids.push(searchRecords[i].Id);\n\
    \                break;\n            case 'Lead':\n                lead_ids.push(searchRecords[i].Id);\n\
    \                break;\n            case 'Task':\n                task_ids.push(searchRecords[i].Id);\n\
    \                break;\n            case 'User':\n                user_ids.push(searchRecords[i].Id);\n\
    \                break;\n            default:\n                // in case we don't\
    \ know how to parse the object\n                general.push(searchRecords[i]);\n\
    \                break;\n        }\n    }\n\n    var condition, properties;\n\
    \    var entries = [];\n    var userMapping = getUserNames();\n    if (get_org.length\
    \ > 0) {\n        condition = \"ID IN ('\" + get_org.join(\"','\") + \"')\";\n\
    \        properties = ['ID', 'Name'];\n        var cases = queryObjects(properties,\
    \ \"Account\", condition).records;\n        entries.push(orgToEntry(cases, 'Account:',\
    \ userMapping));\n    }\n\n    if (case_ids.length > 0) {\n        condition =\
    \ \"ID IN ('\" + case_ids.join(\"','\") + \"')\";\n        properties = ['ID',\
    \ 'CaseNumber', 'Subject', 'Description', 'CreatedDate', 'ClosedDate', 'OwnerID',\
    \ 'Priority', 'Origin', 'Status', 'Reason','IsEscalated','SuppliedPhone','SuppliedCompany','SuppliedEmail','ContactEmail','ContactId','AccountId'];\n\
    \        var cases = queryObjects(properties, \"Case\", condition).records;\n\
    \        entries.push(casesToEntry(cases, 'Cases:', userMapping));\n    }\n  \
    \   if (case_comment.length > 0) {\n        condition = \"ID IN ('\" + case_comment.join(\"\
    ','\") + \"')\";\n        properties = ['ID', 'CommentBody', 'CreatedDate', 'CreatedById',\
    \ 'IsPublished', 'SystemModstamp', 'LastModifiedById', 'LastModifiedDate'];\n\
    \        var cases_comment = queryObjects(properties, \"CaseComment\", condition).records;\n\
    \        entries.push(commentToEntry(cases_comment, 'CaseComment:', userMapping));\n\
    \    }\n\n    if (contact_ids.length > 0) {\n        condition = \"ID IN ('\"\
    \ + contact_ids.join(\"','\") + \"')\";\n        properties = ['ID', 'Name', 'Title',\
    \ 'AccountId', 'Phone', 'MobilePhone', 'Email', 'OwnerId'];\n        var contacts\
    \ = queryObjects(properties, \"Contact\", condition).records;\n        entries.push(contactsToEntry(contacts,\
    \ 'Contacts:', userMapping));\n    }\n    if (lead_ids.length > 0) {\n       \
    \ condition = \"ID IN ('\" + lead_ids.join(\"','\") + \"')\";\n        properties\
    \ = ['ID', 'Name', 'Title', 'Company', 'Phone', 'MobilePhone', 'Email', 'Status',\
    \ 'OwnerId'];\n        var leads = queryObjects(properties, \"Lead\", condition).records;\n\
    \        entries.push(leadsToEntry(leads, 'Leads:', userMapping));\n    }\n  \
    \  if (task_ids.length > 0) {\n        condition = \"ID IN ('\" + task_ids.join(\"\
    ','\") + \"')\";\n        properties = ['ID', 'Subject', 'WhoId', 'ActivityDate'];\n\
    \        var tasks = queryObjects(properties, \"Task\", condition).records;\n\
    \        entries.push(tasksToEntry(tasks, 'Tasks:'));\n    }\n    if (user_ids.length\
    \ > 0) {\n        condition = \"ID IN ('\" + user_ids.join(\"','\") + \"')\";\n\
    \        properties = ['ID', 'Name', 'Title', 'Phone', 'Email'];\n        var\
    \ users = queryObjects(properties, \"User\", condition).records;\n        entries.push(usersToEntry(users,\
    \ 'Users:'));\n    }\n\n    if (general.length > 0) entries.push({'unparsed' :\
    \ general});\n    return entries;\n}\n\nfunction queryRaw(query) {\n    var url\
    \ = 'query/' + encodeToURLQuery({q : query});\n    response = sendRequestInSession('GET',\
    \ url, '');\n    return JSON.parse(response.Body);\n}\n\nfunction queryObjects(fields,\
    \ table, condition) {\n    query = 'SELECT ' + fields.join(',') + ' FROM ' + table;\n\
    \    if (condition !== undefined) {\n        query += ' WHERE ' + condition;\n\
    \    }\n\n    return queryRaw(query);\n}\n\nfunction getObject(path) {\n    response\
    \ = sendRequestInSession('GET', 'sobjects/' + path, '');\n    return objectToEntry(path.split('/')[0],\
    \ JSON.parse(response.Body));\n}\n\nfunction createObject(path, json_obj) {\n\
    \    response = sendRequestInSession('POST','sobjects/' + path, json_obj);\n \
    \   response = JSON.parse(response.Body);\n\n    if (response.success !== true)\
    \ {\n        return {\n            Type: entryTypes.note,\n            Contents:\
    \ response,\n            ContentsFormat: formats.json,\n            ReadableContentsFormat:\
    \ formats.markdown,\n            HumanReadable : tableToMarkdown('Request failed\
    \ with errors', response.errors, undefined, undefined, dotToSpace)\n        };\n\
    \    }\n\n    return getObject(path + '/' + response.id);\n}\n\nfunction updateObject(path,\
    \ json_obj) {\n    response = sendRequestInSession('PATCH','sobjects/' + path,\
    \ json_obj);\n    if (response.StatusCode != 204) {\n        throw 'object '+\
    \ path + ' update failed with status code: ' + response.StatusCode;\n    }\n\n\
    \    return getObject(path);\n}\n\nfunction deleteObject(path) {\n    response\
    \ = sendRequestInSession('DELETE', 'sobjects/' + path);\n    if (response.StatusCode\
    \ != 204) {\n        throw 'object ' + path + ' delete failed with status code:\
    \ ' + response.StatusCode;\n    }\n\n    return 'object ' + path + 'was successfully\
    \ deleted.';\n}\n\nfunction getCase(oid, caseNumber) {\n    if (caseNumber !==\
    \ undefined) {\n        var condition = \"CaseNumber='\" + caseNumber + \"'\"\
    ;\n        var properties = ['ID', 'CaseNumber', 'Subject', 'Description', 'CreatedDate',\
    \ 'ClosedDate', 'OwnerID', 'Priority', 'Origin', 'Status', 'Reason','IsEscalated','SuppliedPhone','SuppliedCompany','SuppliedEmail','ContactEmail','ContactId','AccountId'];\n\
    \        cases = queryObjects(properties, 'Case', condition).records;\n      \
    \  return casesToEntry(cases, 'Case #' + caseNumber + ':', getUserNames());\n\
    \    }\n\n    if (oid !== undefined) {\n        return getObject('Case/' + oid);\n\
    \    }\n\n    return {\n        Type : entryTypes.error,\n        Contents : 'You\
    \ must specify object ID or a Case Number',\n        // ContentsFormat: formats.json,\n\
    \        ReadableContentsFormat: formats.markdown\n    };\n}\n\n\n// Add the capability\
    \ to get all comment in specific case\nfunction getCaseComment(oid, caseNumber)\
    \ {\n    if (caseNumber !== undefined) {\n\n        var condition = \"CaseNumber='\"\
    \ + caseNumber + \"'\";\n        cases = queryObjects(['Id', 'CaseNumber'], 'Case',\
    \ condition).records;\n        comments = JSON.parse(sendRequestInSession('GET',\
    \ 'sobjects/Case/'+cases[0].Id+'/CaseComments').Body);\n        return commentToEntry(comments.records,\
    \ 'CaseComment #' + cases[0].CaseNumber + ':', getUserNames());\n    }\n\n   \
    \ if (oid !== undefined) {\n        comments = JSON.parse(sendRequestInSession('GET',\
    \ 'sobjects/Case/'+oid+'/CaseComments').Body);\n        return commentToEntry(comments.records,\
    \ 'CaseComment #' + oid + ':', getUserNames());\n    }\n\n    return {\n     \
    \   Type : entryTypes.error,\n        Contents : 'You must specify object ID or\
    \ a Case Number',\n        // ContentsFormat: formats.json,\n        ReadableContentsFormat:\
    \ formats.markdown\n    };\n}\n\nfunction getUser(oid, caseNumber) {\n    if (caseNumber\
    \ !== undefined) {\n        var condition = \"CaseNumber='\" + caseNumber + \"\
    '\";\n        cases = queryObjects(['Id', 'CaseNumber','OwnerId'], 'Case', condition).records;\n\
    \        var conditionA = \"Id='\" +  cases[0].OwnerId + \"'\";\n        properties\
    \ = ['Id', 'Name', 'Alias', 'CommunityNickname', 'Email','FirstName','Username'];\n\
    \        var users = queryObjects(properties, \"User\", conditionA).records;\n\
    \        return usersToEntry(users, 'User #' + cases[0].OwnerId + ':', getUserNames());\n\
    \    }\n\n    if (oid !== undefined) {\n        var usersOid = JSON.parse(sendRequestInSession('GET',\
    \ 'sobjects/'+'User').Body);\n        return usersToEntry(usersToEntry.records,\
    \ 'User #' + usersOid + ':', getUserNames());\n    }\n\n    return {\n       \
    \ Type : entryTypes.error,\n        Contents : 'You must specify object ID or\
    \ a Case Number',\n        // ContentsFormat: formats.json,\n        ReadableContentsFormat:\
    \ formats.markdown\n    };\n}\n\nfunction getOrgName(caseNumber) {\n\n    if (caseNumber\
    \ !== undefined) {\n        var condition = \"CaseNumber='\" + caseNumber + \"\
    '\";\n        var properties = ['ID', 'CaseNumber','AccountId'];\n        var\
    \ cases = queryObjects(properties, 'Case', condition).records;\n        var conditionA\
    \ = \"Id='\" +  cases[0].AccountId + \"'\";\n        var propertiesA = ['Id',\
    \ 'Name'];\n        var usersA = queryObjects(propertiesA, \"Account\", conditionA).records;\n\
    \        return orgToEntry(usersA, 'Account #' + cases[0].AccountId + ':', getUserNames());\n\
    \    }\n\n    return {\n        Type : entryTypes.error,\n        Contents : 'You\
    \ must specify a Case Number',\n        // ContentsFormat: formats.json,\n   \
    \     ReadableContentsFormat: formats.markdown\n    };\n}\n\n\n// Add the capability\
    \ to post comment in specific case\nfunction postCaseComment(oid,caseNumber,text\
    \ ) {\n    data = {\n        CommentBody : text,\n        ParentId: caseNumber\n\
    \    };\n\n    response = sendRequestInSession('POST', 'sobjects/CaseComment',\
    \ JSON.stringify(data));\n    message = JSON.parse(response.Body);\n    message.body\
    \ = text;\n    return {\n        Type : entryTypes.note,\n        Contents : message,\n\
    \        ContentsFormat: formats.json,\n        HumanReadable: tableToMarkdown('comment',\
    \ message)\n    };\n}\n\n\nfunction createCase(subject, description, status, origin,\
    \ priority, caseType) {\n    var data = {\n        Subject : subject,\n      \
    \  Description : description,\n        Status : status,\n        Origin : origin,\n\
    \        Priority : priority,\n        Type : caseType\n    };\n\n    return createObject('Case',\
    \ JSON.stringify(data));\n}\n\nfunction updateCase(oid, caseNumber, subject, description,\
    \ status, origin, priority, caseType) {\n    if ((oid === undefined) && (caseNumber\
    \ === undefined)) {\n        return {\n            Type : entryTypes.error,\n\
    \            Contents : 'You must specify object ID or a Case Number',\n     \
    \       // ContentsFormat: formats.json,\n            ReadableContentsFormat:\
    \ formats.markdown\n        };\n    }\n\n    if (oid === undefined) {\n      \
    \  var condition = \"CaseNumber='\" + caseNumber + \"'\";\n        cases = queryObjects(['ID'],\
    \ 'Case', condition).records;\n        oid = (cases.length === 1) ? cases[0].Id\
    \ : undefined;\n    }\n\n    var data = {\n        Subject : subject,\n      \
    \  Description : description,\n        Status : status,\n        Origion : origin,\n\
    \        Priority : priority,\n        Type : caseType\n    };\n\n    return updateObject('Case/'\
    \ + oid, JSON.stringify(data));\n}\n\nfunction getCases() {\n    var properties\
    \ = ['ID', 'CaseNumber', 'Subject', 'Description', 'CreatedDate', 'ClosedDate',\
    \ 'OwnerID', 'Priority', 'Origin', 'Status', 'Reason'];\n        cases = queryObjects(properties,\
    \ 'Case').records;\n        return casesToEntry(cases, 'Cases:', getUserNames());\n\
    }\n\n\nfunction closeCase(oid, caseNumber) {\n    return updateCase(oid, caseNumber,\
    \ undefined, undefined, 'Closed');\n}\n\nfunction deleteCase(oid, caseNumber)\
    \ {\n    if ((oid === undefined) && (caseNumber === undefined)) {\n        return\
    \ {\n            Type : entryTypes.error,\n            Contents : 'You must specify\
    \ object ID or a Case Number',\n            // ContentsFormat: formats.json,\n\
    \            ReadableContentsFormat: formats.markdown\n        };\n    }\n\n \
    \   if (oid === undefined) {\n        var condition = \"CaseNumber='\" + caseNumber\
    \ + \"'\";\n        cases = queryObjects(['ID'], 'Case', condition).records;\n\
    \        oid = (cases.length === 1) ? cases[0].Id : undefined;\n    }\n\n    return\
    \ deleteObject('Case/' + oid);\n}\n\nfunction pushComment(oid, text, linkUrl)\
    \ {\n    data = {\n        body : {\n            messageSegments : [{\n      \
    \          type : 'Text',\n                text : text\n            }],\n    \
    \    },\n        feedElementType : 'FeedItem',\n        subjectId : oid\n    };\n\
    \n    if (linkUrl !== undefined) {\n        data.body.messageSegments.push({\n\
    \            type : 'Link',\n            url : linkUrl});\n    }\n\n    response\
    \ = sendRequestInSession('POST', 'chatter/feed-elements', JSON.stringify(data));\n\
    \    message = JSON.parse(response.Body);\n\n    return createEntry(message, {\n\
    \        title : 'New Message',\n        contextPath: 'SalesForce.Comment(val.URL\
    \ && val.URL == obj.URL)',\n        data : [\n            {to : 'Body', from :\
    \ 'body.text'},\n            {to : 'CreatedDate', from : 'createdDate'},\n   \
    \         {to : 'Title', from : 'header.text'},\n            {to : 'ParentType',\
    \ from : 'parent.type'},\n            {to : 'ParentName', from : 'parent.name'},\n\
    \            {to : 'URL', from : 'url'},\n            {to : 'Visibility', from\
    \ : 'visibility'}\n            ]\n    });\n}\n\nfunction pushCommentThread(id,\
    \ text) {\n    var data = {\n        body : {\n            messageSegments : [{\n\
    \                type : 'Text',\n                text : text\n            }]\n\
    \        }\n    };\n\n    var response = sendRequestInSession('POST', 'chatter/feed-elements/'+\
    \ id +'/capabilities/comments/items', JSON.stringify(data));\n    var message\
    \ = JSON.parse(response.Body);\n    var output = {\n        Body: message.body.text,\n\
    \        CreatedDate: message.createdDate,\n        URL: message.url\n    };\n\
    \n    ec = {\n        'SalesForce.Comment(val.URL && val.URL == obj.URL)': {\n\
    \            URL: URI_PREFIX + 'chatter/feed-elements/' + id,\n            Reply:\
    \ output\n        }\n    };\n\n    return {\n        Type: entryTypes.note,\n\
    \        Contents: message,\n        ContentsFormat: formats.json,\n        ReadableContentsFormat:\
    \ formats.markdown,\n        HumanReadable: tableToMarkdown('New Reply', output),\n\
    \        EntryContext: ec\n    };\n}\n\nfunction casesToIncidents(raw_info, userMapping)\
    \ {\n    var cases = [];\n    for (var i in raw_info) {\n        cases.push({\n\
    \            name : raw_info[i].Id + \" \" + raw_info[i].Subject,\n          \
    \  details : raw_info[i].Description,\n            rawJSON : JSON.stringify(raw_info[i]),\n\
    \            Reason : raw_info[i].Reason\n        });\n    }\n    if (cases.length\
    \ == 0) {\n        return '[]';\n    } else {\n        return JSON.stringify(cases);\n\
    \    }\n}\n\n\nfunction fetchIncident() {\n    var fetchType = params.fetchType;\n\
    \n    lastRun = getLastRun();\n    if (lastRun.last_case_time === undefined) {\n\
    \        current_time = new Date();\n        current_time.setMonth(current_time.getMonth()\
    \ - 1); // TODO - remove this line\n        lastRun.last_case_time = dateToString(current_time,\
    \ \"%Y-%m-%dT%H:%M:%S.%fZ\");\n        setLastRun(lastRun);\n    }\n\n    var\
    \ condition;\n    var properties;\n    var incidents = '[]';\n\n    if (fetchType\
    \ === 'cases') {\n        // query cases from last time\n        condition = \"\
    CreatedDate>\" + lastRun.last_case_time + \" ORDER BY CreatedDate DESC\";\n  \
    \      properties = ['ID', 'CaseNumber', 'Subject', 'Description', 'CreatedDate',\
    \ 'ClosedDate', 'OwnerID', 'Priority', 'Origin', 'Status', 'Reason'];\n\n    \
    \    var cases = queryObjects(properties, \"Case\", condition).records;\n\n  \
    \      if (cases.length > 0) {\n            new_time = stringToDate(cases[0].CreatedDate,\
    \ \"%Y-%m-%dT%H:%M:%S.%fZ\");\n            lastRun.last_case_time = dateToString(new_time,\
    \ \"%Y-%m-%dT%H:%M:%S.%fZ\");\n\n            setLastRun(lastRun);\n          \
    \  var userMapping = getUserNames();\n            incidents = casesToIncidents(cases,\
    \ userMapping);\n        }\n\n    } else { //fetchType === 'comment'\n\n     \
    \   //query comments from last time\n\n        incidents = '[]';\n\n        //Fetch\
    \ comment replies\n        properties = ['Id', 'CommentBody', 'CreatedDate'];\n\
    \        condition = \"CreatedDate>\" + lastRun.last_case_time + \" ORDER BY CreatedDate\
    \ DESC LIMIT 10\";\n        var replies = queryObjects(properties, \"FeedComment\"\
    , condition).records;\n\n        if (replies.length > 0) {\n\n            var\
    \ newTime = stringToDate(replies[0].CreatedDate, \"%Y-%m-%dT%H:%M:%S.%fZ\");\n\
    \            lastRun.last_case_time = dateToString(newTime, \"%Y-%m-%dT%H:%M:%S.%fZ\"\
    );\n            setLastRun(lastRun);\n\n            for (var i = 0; i < replies.length;\
    \ i++) {\n\n                //Get reply details\n                var replyDetails\
    \ = sendRequestInSession('GET', 'chatter/comments/' + replies[i].Id);\n      \
    \          var data = JSON.parse(replyDetails.Body);\n                var feedElement\
    \ = data.feedElement;\n                var parentID = feedElement.id;\n\n    \
    \            //Get parent details\n                var parentDetails = getObject('CaseFeed/'\
    \ + parentID);\n                var parentText = parentDetails.Body;\n\n     \
    \           if (parentText.indexOf('DemistoID') !== -1) {\n\n                \
    \    var messageSegments = data.body.messageSegments;\n                    for\
    \ (var j = 0; j < messageSegments.length; j++)\n                    if (messageSegments[j].type\
    \ === 'Text') {\n                        // Found the relavent comment (there's\
    \ only one), so we return it\n                        return JSON.stringify([{\n\
    \                            name: parentText,\n                            details:\
    \ messageSegments[j].text\n                        }]);\n                    }\n\
    \                }\n            }\n        }\n    }\n\n    return incidents;\n\
    }\n\nSESSION_DATA = getNewToken();\n// The command input arg holds the command\
    \ sent from the user.\nvar response;\nswitch (command) {\n    case 'fetch-incidents':\n\
    \        return fetchIncident();\n    case 'salesforce-search':\n        response\
    \ = sendRequestInSession('GET','search/?q=FIND+%7B' + args.pattern +'%7D','');\n\
    \        return searchToEntry(JSON.parse(response.Body).searchRecords);\n    case\
    \ 'salesforce-query':\n        return queryToEntry(queryRaw(args.query));\n  \
    \  case 'salesforce-get-object':\n        return getObject(args.path);\n    case\
    \ 'salesforce-update-object':\n        return updateObject(args.path, args.json);\n\
    \    case 'salesforce-create-object':\n        return createObject(args.path,\
    \ args.json);\n    case 'salesforce-get-case':\n        return getCase(args.oid,\
    \ args.caseNumber);\n     case 'salesforce-get-user':\n        return getUser(args.oid,\
    \ args.caseNumber);\n    case 'salesforce-get-casecomment':\n        return getCaseComment(args.oid,\
    \ args.caseNumber);\n    case 'salesforce-get-org':\n        return getOrgName(args.caseNumber);\n\
    \    case 'salesforce-post-casecomment':\n        return postCaseComment(args.oid,\
    \ args.caseNumber, args.text);\n    case 'salesforce-create-case':\n        return\
    \ createCase(args.subject, args.description, args.status, args.origin, args.priority,\
    \ args.type);\n    case 'salesforce-update-case':\n        return updateCase(args.oid,\
    \ args.caseNumber, args.subject, args.description, args.status, args.origin, args.priority,\
    \ args.type);\n    case 'salesforce-get-cases':\n        return getCases();\n\
    \    case 'salesforce-close-case':\n        return closeCase(args.oid, args.caseNumber);\n\
    \    case 'salesforce-delete-case':\n        return deleteCase(args.oid, args.caseNumber);\n\
    \    case 'salesforce-push-comment':\n        return pushComment(args.oid, args.text,\
    \ args.link);\n    case 'salesforce-push-comment-threads':\n        return pushCommentThread(args.id,\
    \ args.text);\n    case 'test-module':\n        try {\n            sendRequestInSession('GET',\
    \ '', '');\n        } catch (err) {\n            return 'Connection test failed\
    \ with error: ' + err + '.';\n        }\n        return 'ok';\n    default:\n\
    }\n"
  type: javascript
toversion: 4.1.9
