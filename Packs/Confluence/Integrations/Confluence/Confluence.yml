category: Utilities
commonfields:
  id: Atlassian Confluence Server
  version: -1
configuration:
- defaultvalue: ''
  display: Server URL (e.g. http://1.2.3.4:8090)
  name: url
  required: true
  type: 0
- defaultvalue: ''
  display: Username
  name: credentials
  required: true
  type: 9
- defaultvalue: 'false'
  display: Use system proxy settings
  name: proxy
  required: false
  type: 8
- defaultvalue: 'false'
  display: Trust any certificate (not secure)
  name: unsecure
  required: false
  type: 8
description: Atlassian Confluence Server API
display: Atlassian Confluence Server
name: Atlassian Confluence Server
script:
  commands:
  - arguments:
    - description: 'Space name, for example: "Test Space".'
      name: name
      required: true
    - description: A description for the space.
      name: description
      required: true
    - description: Space key, which will be used as input when creating or updating
        child components from a space.
      name: key
      required: true
    description: Creates a new Confluence space.
    name: confluence-create-space
    outputs:
    - contextPath: Confluence.Space.ID
      description: Space ID.
      type: String
    - contextPath: Confluence.Space.Key
      description: Space key.
      type: String
    - contextPath: Confluence.Space.Name
      description: Space name.
      type: String
  - arguments:
    - description: Confluence page title.
      name: title
      required: true
    - auto: PREDEFINED
      defaultValue: page
      description: Confluence content type. Can be "page" or "blogpost".
      name: type
      predefined:
      - page
      - blogpost
      required: true
    - description: Space key to add content to a specific space.
      name: space
      required: true
    - description: Confluence page body to add.
      name: body
    description: Creates Confluence content for a given space.
    name: confluence-create-content
    outputs:
    - contextPath: Confluence.Content.ID
      description: Page content ID.
      type: String
    - contextPath: Confluence.Content.Title
      description: Content title.
      type: String
    - contextPath: Confluence.Content.Type
      description: Content type.
      type: String
    - contextPath: Confluence.Content.Body
      description: Content body.
      type: String
  - arguments:
    - defaultValue: 25
      description: Maximum number of spaces to return.
      name: limit
    - auto: PREDEFINED
      description: Filter the returned list of spaces by type. Can be "global" or
        "personal".
      name: type
      predefined:
      - global
      - personal
    - auto: PREDEFINED
      description: Filter the returned list of spaces by status. Can be "current"
        or "archived".
      name: status
      predefined:
      - current
      - archived
    description: Returns a list of all Confluence spaces.
    name: confluence-list-spaces
    outputs:
    - contextPath: Confluence.Space.ID
      description: Space ID.
      type: String
    - contextPath: Confluence.Space.Key
      description: Space key.
      type: String
    - contextPath: Confluence.Space.Name
      description: Space name.
      type: String
  - arguments:
    - description: Space key.
      name: key
      required: true
    - description: Content title.
      name: title
      required: true
    description: Returns Confluence content by space key and title.
    name: confluence-get-content
    outputs:
    - contextPath: Confluence.Content.ID
      description: Content ID.
      type: String
    - contextPath: Confluence.Content.Title
      description: Content title.
      type: String
    - contextPath: Confluence.Content.Type
      description: Content type.
      type: String
    - contextPath: Confluence.Content.Version
      description: Content version.
      type: String
    - contextPath: Confluence.Content.Body
      description: Content body.
      type: String
  - arguments:
    - description: Content ID
      name: id
      required: true
    description: Deletes Confluence content.
    execution: true
    name: confluence-delete-content
    outputs:
    - contextPath: Confluence.Content.Result
      description: Content delete result.
      type: String
    - contextPath: Confluence.Content.ID
      description: Content ID deleted.
      type: String
  - arguments:
    - description: Page ID used to find and update the page.
      name: pageid
      required: true
    - description: The version number, extracted from a content search. The integration
        will increment by 1.
      name: currentversion
      required: true
    - description: Title of the page to update.
      name: title
      required: true
    - auto: PREDEFINED
      defaultValue: page
      description: Content type. Can be "page" or "blogpost".
      name: type
      predefined:
      - page
      - blogpost
      required: true
    - description: Space key to update.
      name: space
      required: true
    - description: Content body to replace (overwrite) existing content of a Confluence
        page.
      name: body
    description: Update (overwrite) the existing content of a Confluence page with
      new content.
    execution: true
    name: confluence-update-content
    outputs:
    - contextPath: Confluence.Content.ID
      description: Content ID.
      type: String
    - contextPath: Confluence.Content.Title
      description: Content title.
      type: String
    - contextPath: Confluence.Content.Type
      description: Content type.
      type: String
    - contextPath: Confluence.Content.Body
      description: Content body.
      type: String
  - arguments:
    - description: 'A CQL query string to use to locate content, for example: "space
        = DEV order by created".'
      name: cql
      required: true
    - description: The context in which to execute a CQL search. The context is the
        JSON serialized form of SearchContext.
      name: cqlcontext
    - defaultValue: version
      description: A CSV list of properties to expand on the content.
      name: expand
    - description: The start point of the collection to return.
      name: start
    - defaultValue: '25'
      description: Maximum number of items to return. This can be restricted by fixed
        system limits. Default is 25.
      name: limit
    description: Fetches a list of content using the Confluence Query Language (CQL).
      For more information about CQL syntax, see https://developer.atlassian.com/server/confluence/advanced-searching-using-cql/
    name: confluence-search-content
    outputs:
    - contextPath: Confluence.Content.ID
      description: Content ID.
      type: String
    - contextPath: Confluence.Content.Title
      description: Content title.
      type: String
    - contextPath: Confluence.Content.Type
      description: Content type.
      type: String
    - contextPath: Confluence.Content.Version
      description: Content version.
      type: String
  runonce: false
  script: ''
  subtype: python2
  type: python
tests:
- No test - the test requires personal credentials to the confluence account
toversion: 4.1.9
