args:
- default: true
  description: Text to analyse for language detection
  name: text
  required: true
comment: Language detection based on Google's language-detection.
commonfields:
  id: LanguageDetect
  version: -1
dockerimage: demisto/langdetect
enabled: true
name: LanguageDetect
outputs:
- contextPath: langDetect.lang
  description: Language detection
- contextPath: langDetect.probability
  description: Probability of language detection
script: "from langdetect import detect_langs\n\nres = detect_langs(demisto.args()[\"\
  text\"])\n\nmd = \"### Detected languages (probability):\\n\"\nlangs = []\n\nfor\
  \ line in res:\n    lang = str(line).split(':')[0]\n    prob = float(str(line).split(':')[1])\n\
  \    langs.append({\"lang\": lang, \"probability\": prob})\n    md += \"- \" + lang\
  \ + \" (\" + str(prob) + \")\\n\"\n\ndemisto.results({\"ContentsFormat\": formats[\"\
  json\"], \"Type\": entryTypes[\"note\"], \"Contents\": langs, \"HumanReadable\"\
  : md, \"EntryContext\": {\"langDetect\": langs}})\n"
scripttarget: 0
subtype: python2
tags:
- Utility
toversion: 4.1.9
type: python
