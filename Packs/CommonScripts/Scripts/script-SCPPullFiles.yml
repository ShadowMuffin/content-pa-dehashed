args:
- default: true
  description: A JSON object mapping RemoteAccess instances to filepaths.
  name: systems2files
  required: true
comment: Take a list of devices and pull a specific file (given by path) from each
  using SCP
commonfields:
  id: SCPPullFiles
  version: -1
dependson:
  must:
  - copy-from
name: SCPPullFiles
script: "res = []\ns2f = demisto.get(demisto.args(), 'systems2files')\nif s2f:\n \
  \   s2f = json.loads(s2f)\n    if not isinstance(s2f, dict):\n        demisto.results({\"\
  Type\": entryTypes[\"error\"], \"ContentsFormat\": formats[\"text\"],\n        \
  \                        \"Contents\": \"Wrong argument provided. Not a dict. Dump\
  \ of args: \" + json.dumps(demisto.args(), indent=4)})\n    else:\n        for k\
  \ in s2f:\n            res +=  demisto.executeCommand(\"copy-from\", {'using': k,\
  \ 'file': s2f[k]})\n            demisto.log('Copying file ' + s2f[k] + ' from device\
  \ ' + k)\ndemisto.results(res)\n"
scripttarget: 0
subtype: python2
system: true
tags:
- Utility
timeout: 0s
toversion: 4.1.9
type: python
