args:
- description: Incident object
  name: incident
- description: Field definition object
  name: field
comment: When you apply this script to an incident field, that incident field is hidden
  for new incidents, and it displays in edit mode.
commonfields:
  id: hideFieldsOnNewIncident
  version: -1
enabled: true
fromversion: 3.6.0
name: hideFieldsOnNewIncident
runonce: false
script: "incident = demisto.incidents()[0]\nfield = demisto.args()['field']\nformType\
  \ = demisto.args()['formType']\n## You can create a condition for the incident,\
  \ which is served as a JSON object.\n## You can view the original field settings\
  \ and take necessary action - such as validate that the options are part of the\
  \ global set in the field definition.\n## You can view the current form type (new,\
  \ edit, close) and take necessary action - such as show fields only in the close\
  \ form.\nif incident[\"id\"] == \"\":\n    # This is a new incident, hide the field\n\
  \    demisto.results({\"hidden\": True, \"options\": []})\nelse:\n    # This is\
  \ an existing incident, we want to show the field, to know which values to display\n\
  \    # we will take them from the field definition\n    options = []\n    if \"\
  Select\" in demisto.get(field, \"type\"):\n        options = demisto.get(field,\
  \ \"selectValues\")\n    demisto.results({\"hidden\": False, \"options\": options})\n"
scripttarget: 0
subtype: python2
tags:
- field-display
toversion: 4.1.9
type: python
