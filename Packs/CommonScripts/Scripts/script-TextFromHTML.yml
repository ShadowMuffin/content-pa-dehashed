args:
- default: true
  description: The HTML to strip tags from
  name: html
  required: true
comment: Extract regular text from the given HTML
commonfields:
  id: TextFromHTML
  version: -1
enabled: true
name: TextFromHTML
runonce: false
script: "import re\nhtml = demisto.args()['html'].encode('utf-8')\nbody = re.search(ur'<body.*/body>',\
  \ html, re.M + re.S + re.I + re.U)\nif body and body.group(0):\n    data = re.sub(ur'<.*?>',\
  \ '', body.group(0))\n    entities = {'quot': '\"', 'amp': '&', 'apos': \"'\", 'lt':\
  \ '<', 'gt': '>', 'nbsp': ' ', 'copy': '(C)', 'reg': '(R)', 'tilde': '~', 'ldquo':\
  \ '\"', 'rdquo': '\"', 'hellip': '...'}\n    for e in entities:\n        data =\
  \ data.replace('&' + e + ';', entities[e])\n    demisto.results(data)\nelse:\n \
  \   demisto.results('Could not extract text')"
scripttarget: 0
subtype: python2
tags:
- Utility
toversion: 4.1.9
type: python
