beta: true
category: IT Services
commonfields:
  id: AWS - Athena - Beta
  version: -1
configuration:
- defaultvalue: ''
  display: Role Arn
  name: roleArn
  required: false
  type: 0
- defaultvalue: ''
  display: Role Session Name
  name: roleSessionName
  required: false
  type: 0
- defaultvalue: ''
  display: AWS Default Region
  name: defaultRegion
  required: false
  type: 0
- defaultvalue: ''
  display: Role Session Duration
  name: sessionDuration
  required: false
  type: 0
- defaultvalue: ''
  display: Access Key
  name: access_key
  required: false
  type: 0
- defaultvalue: ''
  display: Secret Key
  name: secret_key
  required: false
  type: 4
- defaultvalue: ''
  display: Trust any certificate (not secure)
  name: insecure
  required: false
  type: 8
- defaultvalue: ''
  display: Use system proxy settings
  name: proxy
  required: false
  type: 8
description: Amazon Web Services Athena
display: AWS - Athena (Beta)
name: AWS - Athena - Beta
script:
  commands:
  - arguments:
    - description: The SQL query statements to be executed.
      name: QueryString
      required: true
    - auto: PREDEFINED
      description: A unique case-sensitive string used to ensure the request to create
        the query is idempotent (executes only once).
      name: ClientRequestToken
      predefined:
      - private
      - public-read
      - public-read-write
      - authenticated-read
    - description: The name of the database.
      name: Database
    - description: he location in Amazon S3 where your query results are stored, such
        as s3://path/to/query/bucket/.
      name: OutputLocation
    - description: Indicates whether Amazon S3 server-side encryption with Amazon
        S3-managed keys (SSE-S3 ), server-side encryption with KMS-managed keys (SSE-KMS
        ), or client-side encryption with KMS-managed keys (CSE-KMS) is used.
      name: EncryptionOption
    - description: For SSE-KMS and CSE-KMS , this is the KMS key ARN or ID.
      name: KmsKey
    - description: The name of the workgroup in which the query is being started.
      name: WorkGroup
    - description: The Amazon Resource Name (ARN) of the role to assume.
      name: roleArn
    - description: An identifier for the assumed role session.
      name: roleSessionName
    - description: The duration, in seconds, of the role session. The value can range
        from 900 seconds (15 minutes) up to the maximum session duration setting for
        the role.
      name: roleSessionDuration
    - description: The AWS Region, if not specified the default region will be used.
      name: region
    description: Start Athena Query.
    name: aws-athena-start-query
  - arguments:
    - description: The unique ID of the query execution to stop.  This field is auto-populated
        if not provided.
      name: QueryExecutionId
      required: true
    - description: The AWS Region, if not specified the default region will be used.
      name: region
    - description: The Amazon Resource Name (ARN) of the role to assume.
      name: roleArn
    - description: An identifier for the assumed role session.
      name: roleSessionName
    - description: The duration, in seconds, of the role session. The value can range
        from 900 seconds (15 minutes) up to the maximum session duration setting for
        the role.
      name: roleSessionDuration
    description: Stops a query execution. Requires you to have access to the workgroup
      in which the query ran.
    name: aws-athena-stop-query
  - arguments:
    - description: The AWS Region, if not specified the default region will be used.
      name: region
    - description: The Amazon Resource Name (ARN) of the role to assume.
      name: roleArn
    - description: An identifier for the assumed role session.
      name: roleSessionName
    - description: The duration, in seconds, of the role session. The value can range
        from 900 seconds (15 minutes) up to the maximum session duration setting for
        the role.
      name: roleSessionDuration
    - description: The unique ID of the query execution.
      name: QueryExecutionId
      required: true
    description: Returns information about a single execution of a query if you have
      access to the workgroup in which the query ran.
    name: aws-athena-get-query-execution
  - arguments:
    - description: The unique ID of the query execution.
      name: QueryExecutionId
      required: true
    - description: The AWS Region, if not specified the default region will be used.
      name: region
    - description: The Amazon Resource Name (ARN) of the role to assume.
      name: roleArn
    - description: An identifier for the assumed role session.
      name: roleSessionName
    - description: The duration, in seconds, of the role session. The value can range
        from 900 seconds (15 minutes) up to the maximum session duration setting for
        the role.
      name: roleSessionDuration
    description: Returns the results of a single query execution specified by QueryExecutionId
      if you have access to the workgroup in which the query ran.
    name: aws-athena-get-query-results
  dockerimage: demisto/boto3py3:1.0.0.1030
  runonce: false
  script: ''
  subtype: python3
  type: python
tests:
- Beta-Athena-Test
toversion: 4.1.9
