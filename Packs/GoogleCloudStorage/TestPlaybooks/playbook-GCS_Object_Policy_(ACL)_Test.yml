id: GCS Object Policy (ACL) - Test
inputs: []
name: GCS Object Policy (ACL) - Test
outputs: []
starttaskid: '0'
tasks:
  '0':
    id: '0'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '38'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 88374354-befd-4bb8-80b6-248c13f556bd
      iscommand: false
      name: ''
      version: -1
    taskid: 88374354-befd-4bb8-80b6-248c13f556bd
    timertriggers: []
    type: start
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 50\n  }\n}"
  '12':
    id: '12'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '13'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      entry_id:
        simple: ${File.EntryID}
      object_acl: {}
      object_name:
        simple: folder/foo.txt
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Uploads a file (object) into a bucket
      id: 60cddf9e-e0a4-4f93-8526-1b6a8d8fbd78
      iscommand: true
      name: Upload file (create object) foo.txt without explicit permission
      script: Google Cloud Storage|||gcs-upload-file
      type: regular
      version: -1
    taskid: 60cddf9e-e0a4-4f93-8526-1b6a8d8fbd78
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1565\n  }\n}"
  '13':
    id: '13'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '15'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      entry_id:
        simple: ${File.EntryID}
      object_acl:
        simple: authenticatedRead
      object_name:
        simple: folder/bar.txt
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Uploads a file (object) into a bucket
      id: e350c1a0-3df9-4e14-841e-ed349c6758bb
      iscommand: true
      name: Upload file (create object) bar.txt with explicit permission = authenticatedRead
      script: Google Cloud Storage|||gcs-upload-file
      type: regular
      version: -1
    taskid: e350c1a0-3df9-4e14-841e-ed349c6758bb
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1740\n  }\n}"
  '14':
    id: '14'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '12'
    note: false
    scriptarguments:
      data:
        simple: The true enemy won't wait out the storm. He BRINGS the storm.
      entryId: {}
      filename:
        simple: local_file.txt
    separatecontext: false
    task:
      brand: ''
      description: 'Will create a file (using the given data input or entry ID) and
        upload it to current investigation war room.

        '
      id: 6e56688f-0853-4bb4-8573-0f3ae027ef91
      iscommand: false
      name: Create test file
      scriptName: FileCreateAndUpload
      type: regular
      version: -1
    taskid: 6e56688f-0853-4bb4-8573-0f3ae027ef91
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1390\n  }\n}"
  '15':
    id: '15'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '26'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      object_name:
        simple: folder/foo.txt
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Retrieves the access control list of an object
      id: 415ad176-3477-4a34-8260-560f9758907c
      iscommand: true
      name: Get object ACL for foo.txt
      script: Google Cloud Storage|||gcs-list-bucket-object-policy
      type: regular
      version: -1
    taskid: 415ad176-3477-4a34-8260-560f9758907c
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1915\n  }\n}"
  '16':
    id: '16'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '29'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      object_name:
        simple: folder/bar.txt
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Retrieves the access control list of an object
      id: c7c43d91-c2ae-4633-8012-4b64698a0d15
      iscommand: true
      name: Get object ACL for bar.txt
      script: Google Cloud Storage|||gcs-list-bucket-object-policy
      type: regular
      version: -1
    taskid: c7c43d91-c2ae-4633-8012-4b64698a0d15
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2440\n  }\n}"
  '18':
    id: '18'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '32'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      object_name:
        simple: folder/foo.txt
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Retrieves the access control list of an object
      id: 6c9fbf4b-09ee-481b-82a0-82c96a79cd99
      iscommand: true
      name: Get object ACL for foo.txt
      script: Google Cloud Storage|||gcs-list-bucket-object-policy
      type: regular
      version: -1
    taskid: 6c9fbf4b-09ee-481b-82a0-82c96a79cd99
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3285\n  }\n}"
  '19':
    id: '19'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '33'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      entity:
        simple: allAuthenticatedUsers
      object_name:
        simple: folder/foo.txt
      role:
        simple: OWNER
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: 'Updates an existing entity in an object''s access control list

        Note: use gcs-create-bucket-object-policy to create a new entry'
      id: 5f07336e-eb16-4f33-80d9-3804e706749c
      iscommand: true
      name: Update allAuthenticatedUsers to OWNER
      script: Google Cloud Storage|||gcs-put-bucket-object-policy
      type: regular
      version: -1
    taskid: 5f07336e-eb16-4f33-80d9-3804e706749c
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3780\n  }\n}"
  '2':
    id: '2'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '14'
    note: false
    scriptarguments:
      bucket_acl: {}
      bucket_name:
        simple: demisto-test-4
      default_object_acl:
        simple: publicRead
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Creates a new bucket
      id: 8b84bdd2-ccac-45bb-8cba-2e261f467b76
      iscommand: true
      name: Create bucket demisto-test-4 with default object ACL = publicRead
      script: Google Cloud Storage|||gcs-create-bucket
      type: regular
      version: -1
    taskid: 8b84bdd2-ccac-45bb-8cba-2e261f467b76
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1215\n  }\n}"
  '20':
    id: '20'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '34'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      object_name:
        simple: folder/foo.txt
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Retrieves the access control list of an object
      id: 52ddf0a6-9dcf-4ea6-89f7-9df3a8532f57
      iscommand: true
      name: Get object ACL for foo.txt
      script: Google Cloud Storage|||gcs-list-bucket-object-policy
      type: regular
      version: -1
    taskid: 52ddf0a6-9dcf-4ea6-89f7-9df3a8532f57
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4130\n  }\n}"
  '21':
    id: '21'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '36'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      entity:
        simple: allAuthenticatedUsers
      object_name:
        simple: folder/foo.txt
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Removes an entity from an object's access control list
      id: 38d5d867-5b63-462a-8e9a-49a37a2db661
      iscommand: true
      name: Remove allAuthenticatedUsers from ACL of foo.txt
      script: Google Cloud Storage|||gcs-delete-bucket-object-policy
      type: regular
      version: -1
    taskid: 38d5d867-5b63-462a-8e9a-49a37a2db661
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4625\n  }\n}"
  '22':
    id: '22'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '37'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      object_name:
        simple: folder/foo.txt
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Retrieves the access control list of an object
      id: 2799915c-9816-49e2-893c-ad592baad56c
      iscommand: true
      name: Get object ACL for foo.txt
      script: Google Cloud Storage|||gcs-list-bucket-object-policy
      type: regular
      version: -1
    taskid: 2799915c-9816-49e2-893c-ad592baad56c
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4975\n  }\n}"
  '23':
    id: '23'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '35'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      force:
        simple: 'true'
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Permanently deletes a bucket
      id: 82bd1cdd-75d9-4fd1-89c7-5a1232a6d3b1
      iscommand: true
      name: Delete bucket with force=true
      script: Google Cloud Storage|||gcs-delete-bucket
      type: regular
      version: -1
    taskid: 82bd1cdd-75d9-4fd1-89c7-5a1232a6d3b1
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 5470\n  }\n}"
  '25':
    id: '25'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '47'
    note: false
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: GCS
      keysToKeep: {}
      subplaybook:
        simple: 'yes'
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: 3bd85011-bfe8-4654-8f62-b7c7b079a8f2
      iscommand: false
      name: Clear context
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: 3bd85011-bfe8-4654-8f62-b7c7b079a8f2
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 720\n  }\n}"
  '26':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Entity
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allUsers
                root: GCS
          operator: isExists
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Bucket
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: demisto-test-4
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Object
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: folder/foo.txt
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Role
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: READER
      label: 'yes'
    id: '26'
    ignoreworker: false
    nexttasks:
      'yes':
      - '27'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 766f3d9b-584f-4314-80b6-748dac72badd
      iscommand: false
      name: Verify default ACL (entity allUsers should have role READER)
      type: condition
      version: -1
    taskid: 766f3d9b-584f-4314-80b6-748dac72badd
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2090\n  }\n}"
  '27':
    id: '27'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '16'
    note: false
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: GCS
      keysToKeep: {}
      subplaybook:
        simple: 'yes'
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: 75586614-83f7-4a37-883c-5d75a730f97b
      iscommand: false
      name: Clear context
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: 75586614-83f7-4a37-883c-5d75a730f97b
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2265\n  }\n}"
  '29':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Entity
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isExists
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Bucket
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: demisto-test-4
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Object
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: folder/bar.txt
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Role
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: READER
      label: 'yes'
    id: '29'
    ignoreworker: false
    nexttasks:
      'yes':
      - '43'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 52fa74e0-acab-4506-8966-ec3a5bc7b7ee
      iscommand: false
      name: Verify explicit ACL (entity allAuthenticatedUsers should have role READER)
      type: condition
      version: -1
    taskid: 52fa74e0-acab-4506-8966-ec3a5bc7b7ee
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2615\n  }\n}"
  '30':
    id: '30'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '31'
    note: false
    scriptarguments:
      Role:
        simple: READER
      bucket_name:
        simple: demisto-test-4
      entity:
        simple: allAuthenticatedUsers
      object_name:
        simple: folder/foo.txt
      role:
        simple: READER
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: 'Adds a new entity to an object''s access control list

        Note: use gcs-put-bucket-object-policy to update an existing entry'
      id: 723e0e9d-7c6b-4414-8a20-c50b855269aa
      iscommand: true
      name: Add allAuthenticatedUsers to ACL of foo.txt as READER
      script: Google Cloud Storage|||gcs-create-bucket-object-policy
      type: regular
      version: -1
    taskid: 723e0e9d-7c6b-4414-8a20-c50b855269aa
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2935\n  }\n}"
  '31':
    id: '31'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '18'
    note: false
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: GCS
      keysToKeep: {}
      subplaybook:
        simple: 'yes'
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: 45f372a1-5456-4cfa-85f9-d2aaf84b6593
      iscommand: false
      name: Clear context
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: 45f372a1-5456-4cfa-85f9-d2aaf84b6593
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3110\n  }\n}"
  '32':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Entity
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isExists
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Bucket
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: demisto-test-4
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Object
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: folder/foo.txt
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Role
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: READER
      label: 'yes'
    id: '32'
    ignoreworker: false
    nexttasks:
      'yes':
      - '44'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 4f4adb4c-5b39-4e19-86ed-1363753e89f7
      iscommand: false
      name: Verify permission was added
      type: condition
      version: -1
    taskid: 4f4adb4c-5b39-4e19-86ed-1363753e89f7
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3460\n  }\n}"
  '33':
    id: '33'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '20'
    note: false
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: GCS
      keysToKeep: {}
      subplaybook:
        simple: 'yes'
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: 2c3eca36-0bc9-488f-8105-93fa4d41f997
      iscommand: false
      name: Clear context
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: 2c3eca36-0bc9-488f-8105-93fa4d41f997
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3955\n  }\n}"
  '34':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Entity
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isExists
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Bucket
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: demisto-test-4
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Object
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: folder/foo.txt
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Role
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isEqualString
          right:
            value:
              simple: OWNER
      label: 'yes'
    id: '34'
    ignoreworker: false
    nexttasks:
      'yes':
      - '45'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 586bfe11-5b28-43c7-8873-6a5d40d00263
      iscommand: false
      name: Verify permission was updated
      type: condition
      version: -1
    taskid: 586bfe11-5b28-43c7-8873-6a5d40d00263
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4305\n  }\n}"
  '35':
    id: '35'
    ignoreworker: false
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 18bfdc32-85d9-4036-83db-44884feccdff
      iscommand: false
      name: Done
      type: title
      version: -1
    taskid: 18bfdc32-85d9-4036-83db-44884feccdff
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 5645\n  }\n}"
  '36':
    id: '36'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '22'
    note: false
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: GCS
      keysToKeep: {}
      subplaybook:
        simple: 'yes'
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: 90dbfa40-be8a-4121-89e0-89e560f34f41
      iscommand: false
      name: Clear context
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: 90dbfa40-be8a-4121-89e0-89e560f34f41
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4800\n  }\n}"
  '37':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              complex:
                accessor: BucketObjectPolicy.Entity
                filters:
                - - left:
                      iscontext: true
                      value:
                        simple: GCS.BucketObjectPolicy.Entity
                    operator: isEqualString
                    right:
                      value:
                        simple: allAuthenticatedUsers
                root: GCS
          operator: isNotExists
      label: 'yes'
    id: '37'
    ignoreworker: false
    nexttasks:
      'yes':
      - '46'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 479a5e94-7f87-4148-8236-cfba5b420a45
      iscommand: false
      name: Verify permission was deleted
      type: condition
      version: -1
    taskid: 479a5e94-7f87-4148-8236-cfba5b420a45
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 5150\n  }\n}"
  '38':
    id: '38'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '40'
    note: false
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Retrieves the list of buckets in the project
      id: 83deae96-e845-4a5b-8520-8623c5721fc5
      iscommand: true
      name: List buckets
      script: Google Cloud Storage|||gcs-list-buckets
      type: regular
      version: -1
    taskid: 83deae96-e845-4a5b-8520-8623c5721fc5
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 195\n  }\n}"
  '40':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: GCS.Bucket.Name
          operator: isEqualString
          right:
            value:
              simple: demisto-test-4
      label: 'yes'
    id: '40'
    ignoreworker: false
    nexttasks:
      '#default#':
      - '42'
      'yes':
      - '41'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 8787c0ca-8559-49ea-86ef-1b1e8c358093
      iscommand: false
      name: Bucket demisto-test-4 exists?
      type: condition
      version: -1
    taskid: 8787c0ca-8559-49ea-86ef-1b1e8c358093
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 370\n  }\n}"
  '41':
    id: '41'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '25'
    note: false
    scriptarguments:
      bucket_name:
        simple: demisto-test-4
      force:
        simple: 'true'
    separatecontext: false
    task:
      brand: Google Cloud Storage
      description: Permanently deletes a bucket
      id: fbe534fc-8fbf-4345-84a4-957e6fd9154c
      iscommand: true
      name: Delete bucket
      script: Google Cloud Storage|||gcs-delete-bucket
      type: regular
      version: -1
    taskid: fbe534fc-8fbf-4345-84a4-957e6fd9154c
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 545\n  }\n}"
  '42':
    id: '42'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '2'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: cecd738e-68be-401c-8b75-e686eb202358
      iscommand: false
      name: 'Test: Create Objects with Predefined ACLs + Get Object ACL'
      type: title
      version: -1
    taskid: cecd738e-68be-401c-8b75-e686eb202358
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1070\n  }\n}"
  '43':
    id: '43'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '30'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 87b090a4-62e0-431d-80ad-74db26055a7b
      iscommand: false
      name: 'Test: Add Entry to Object ACL'
      type: title
      version: -1
    taskid: 87b090a4-62e0-431d-80ad-74db26055a7b
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2790\n  }\n}"
  '44':
    id: '44'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '19'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 6c875baf-c0ae-4ea0-8e58-77516943eb41
      iscommand: false
      name: 'Test: Update Entry in Object ACL'
      type: title
      version: -1
    taskid: 6c875baf-c0ae-4ea0-8e58-77516943eb41
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3635\n  }\n}"
  '45':
    id: '45'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '21'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: c4f18e02-14b6-420b-8d81-46ff7223099c
      iscommand: false
      name: 'Test: Remove Entry from Object ACL'
      type: title
      version: -1
    taskid: c4f18e02-14b6-420b-8d81-46ff7223099c
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4480\n  }\n}"
  '46':
    id: '46'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '23'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 45e27cd7-cdd7-4d40-8218-5bddc965e120
      iscommand: false
      name: Cleanup
      type: title
      version: -1
    taskid: 45e27cd7-cdd7-4d40-8218-5bddc965e120
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 5325\n  }\n}"
  '47':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: GCS
          operator: isNotExists
      label: 'yes'
    id: '47'
    ignoreworker: false
    nexttasks:
      'yes':
      - '42'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 5e0b07cc-9efd-4c5d-83fd-a31235d6f508
      iscommand: false
      name: Test sanity - verify context cleared
      type: condition
      version: -1
    taskid: 5e0b07cc-9efd-4c5d-83fd-a31235d6f508
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 895\n  }\n}"
toversion: 4.1.9
version: -1
view: "{\n  \"linkLabelsPosition\": {},\n  \"paper\": {\n    \"dimensions\": {\n \
  \     \"height\": 5660,\n      \"width\": 492.5,\n      \"x\": 50,\n      \"y\"\
  : 50\n    }\n  }\n}"
