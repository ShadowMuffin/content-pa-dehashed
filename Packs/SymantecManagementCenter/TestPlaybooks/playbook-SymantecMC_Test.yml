id: SymantecMC_TestPlaybook
inputs: []
name: SymantecMC_TestPlaybook
outputs: []
starttaskid: '0'
tasks:
  '0':
    id: '0'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '30'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: e686eba2-6d53-46be-8b26-c0cbbe00e51a
      iscommand: false
      name: ''
      version: -1
    taskid: e686eba2-6d53-46be-8b26-c0cbbe00e51a
    timertriggers: []
    type: start
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 50\n  }\n}"
  '1':
    id: '1'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '2'
    note: false
    scriptarguments:
      build: {}
      description: {}
      limit: {}
      model: {}
      name:
        simple: CONTAINS Blue Coat
      os_version: {}
      platform: {}
      type: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: List devices in Symantec MC
      id: 791dc4f8-9fc9-4e40-8b60-6a6ea3093404
      iscommand: true
      name: List devices
      script: Symantec Management Center|||symantec-mc-list-devices
      type: regular
      version: -1
    taskid: 791dc4f8-9fc9-4e40-8b60-6a6ea3093404
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 720\n  }\n}"
  '10':
    id: '10'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '11'
    note: false
    scriptarguments:
      content_type: {}
      description: {}
      limit: {}
      name:
        simple: EQ test_policy_url
      reference_id: {}
      shared: {}
      tenant: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: List policies in Symantec MC
      id: 5bf688a2-ded2-407a-825b-5dc1303d11d6
      iscommand: true
      name: Search for the URL policy
      script: Symantec Management Center|||symantec-mc-list-policies
      type: regular
      version: -1
    taskid: 5bf688a2-ded2-407a-825b-5dc1303d11d6
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3985\n  }\n}"
  '11':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Policy
          operator: isExists
      label: 'yes'
    id: '11'
    ignoreworker: false
    nexttasks:
      '#default#':
      - '36'
      'yes':
      - '12'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: a9fafb85-1bcb-498f-8477-3c67f22b18e5
      iscommand: false
      name: Does it exist?
      type: condition
      version: -1
    taskid: a9fafb85-1bcb-498f-8477-3c67f22b18e5
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4160\n  }\n}"
  '12':
    id: '12'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '35'
    note: false
    scriptarguments:
      force: {}
      uuid:
        simple: ${SymantecMC.Policy.UUID}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete a policy in Symantec MC
      id: 777f1206-fe41-4b3b-8b3b-2e4a4b74c230
      iscommand: true
      name: Delete the policy
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      version: -1
    taskid: 777f1206-fe41-4b3b-8b3b-2e4a4b74c230
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 4335\n  }\n}"
  '13':
    id: '13'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '15'
    note: false
    scriptarguments:
      content_type:
        simple: IP_LIST
      description:
        simple: This is a test
      name:
        simple: test_policy_ip
      reference_id: {}
      replace_variables: {}
      shared:
        simple: 'true'
      tenant:
        complex:
          accessor: Tenant
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: Tenant
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Create a policy in Symantec MC
      id: 47856bd5-c398-4bf8-8aad-4166f4b6113f
      iscommand: true
      name: Create a new IP policy
      script: Symantec Management Center|||symantec-mc-create-policy
      type: regular
      version: -1
    taskid: 47856bd5-c398-4bf8-8aad-4166f4b6113f
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 5735\n  }\n}"
  '14':
    id: '14'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '13'
    note: false
    scriptarguments:
      limit: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: List tenants in Symantec MC
      id: 1048e09e-4153-4344-8859-207b65fa1cbd
      iscommand: true
      name: List tenants
      script: Symantec Management Center|||symantec-mc-list-tenants
      type: regular
      version: -1
    taskid: 1048e09e-4153-4344-8859-207b65fa1cbd
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 5560\n  }\n}"
  '15':
    id: '15'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '16'
    note: false
    scriptarguments:
      content_type:
        simple: URL_LIST
      description:
        simple: This is a test
      name:
        simple: test_policy_url
      reference_id: {}
      replace_variables: {}
      shared:
        simple: 'true'
      tenant:
        complex:
          accessor: Tenant
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: Tenant
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Create a policy in Symantec MC
      id: c770052d-2afe-433a-8721-b838dc0d9ac3
      iscommand: true
      name: Create a new URL policy
      script: Symantec Management Center|||symantec-mc-create-policy
      type: regular
      version: -1
    taskid: c770052d-2afe-433a-8721-b838dc0d9ac3
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 5910\n  }\n}"
  '16':
    id: '16'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '28'
    note: false
    scriptarguments:
      content_type:
        simple: CATEGORY_LIST
      description:
        simple: This is a test
      name:
        simple: test_policy_category
      reference_id: {}
      replace_variables: {}
      shared:
        simple: 'true'
      tenant:
        complex:
          accessor: Tenant
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: Tenant
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Create a policy in Symantec MC
      id: fb2fd003-063d-4e74-8c88-033722bc02e1
      iscommand: true
      name: Create a new category policy
      script: Symantec Management Center|||symantec-mc-create-policy
      type: regular
      version: -1
    taskid: fb2fd003-063d-4e74-8c88-033722bc02e1
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 6085\n  }\n}"
  '18':
    id: '18'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '14'
    note: false
    scriptarguments:
      all:
        simple: 'yes'
      index: {}
      key: {}
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: b7238797-ebbe-4694-817b-c9a448bd3598
      iscommand: false
      name: Delete Context
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: b7238797-ebbe-4694-817b-c9a448bd3598
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 5385\n  }\n}"
  '19':
    id: '19'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '20'
    note: false
    scriptarguments:
      category: {}
      change_description:
        simple: test
      content_type:
        simple: IP_LIST
      description:
        simple: test
      enabled: {}
      ip:
        simple: 2.2.2.2,4.4.4.4,8.8.8.8
      schema_version: {}
      url: {}
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Add content to a policy in Symantec MC. Can be IPs or URLs or category
        names.
      id: 764959c2-e057-4bad-8f8b-bc0f0d87ab26
      iscommand: true
      name: Add IP content
      script: Symantec Management Center|||symantec-mc-add-policy-content
      type: regular
      version: -1
    taskid: 764959c2-e057-4bad-8f8b-bc0f0d87ab26
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 6435\n  }\n}"
  '2':
    id: '2'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '3'
    note: false
    scriptarguments:
      uuid:
        simple: ${SymantecMC.Device.UUID}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get a device from Symantec MC
      id: a3979582-4faf-4438-8b73-4f3f223eca7f
      iscommand: true
      name: Get BlueCoat device
      script: Symantec Management Center|||symantec-mc-get-device
      type: regular
      version: -1
    taskid: a3979582-4faf-4438-8b73-4f3f223eca7f
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 895\n  }\n}"
  '20':
    id: '20'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '21'
    note: false
    scriptarguments:
      category: {}
      change_description:
        simple: test
      content_type:
        simple: URL_LIST
      description:
        simple: test
      enabled: {}
      ip: {}
      schema_version: {}
      url:
        simple: www.ynet.co.il,www.youtube.com
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_url
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Add content to a policy in Symantec MC. Can be IPs or URLs or category
        names.
      id: 84c63834-76b4-4cde-8f35-8b1a77d70738
      iscommand: true
      name: Add URL content
      script: Symantec Management Center|||symantec-mc-add-policy-content
      type: regular
      version: -1
    taskid: 84c63834-76b4-4cde-8f35-8b1a77d70738
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 6610\n  }\n}"
  '21':
    id: '21'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '25'
    note: false
    scriptarguments:
      category:
        simple: my cat,his cat
      change_description:
        simple: test
      content_type:
        simple: CATEGORY_LIST
      description:
        simple: test
      enabled: {}
      ip: {}
      name:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_category
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: Name
            operator: WhereFieldEquals
      schema_version: {}
      url: {}
      uuid: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Add content to a policy in Symantec MC. Can be IPs or URLs or category
        names.
      id: 4eab81a1-0907-42d0-8159-4c2bf4a4e07a
      iscommand: true
      name: Add Category content with policy name
      script: Symantec Management Center|||symantec-mc-add-policy-content
      type: regular
      version: -1
    taskid: 4eab81a1-0907-42d0-8159-4c2bf4a4e07a
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 6785\n  }\n}"
  '23':
    id: '23'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '26'
    note: false
    scriptarguments:
      category: {}
      change_description:
        simple: test
      content_type:
        simple: IP_LIST
      ip:
        simple: 4.4.4.4,8.8.8.8
      schema_version: {}
      url: {}
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete content from a policy in Symantec MC
      id: 16328b22-e9cf-48f0-88e5-49f695ef0b30
      iscommand: true
      name: Delete IP content
      script: Symantec Management Center|||symantec-mc-delete-policy-content
      type: regular
      version: -1
    taskid: 16328b22-e9cf-48f0-88e5-49f695ef0b30
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 7310\n  }\n}"
  '24':
    id: '24'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '23'
    note: false
    scriptarguments:
      category: {}
      change_description:
        simple: test
      content_type:
        simple: URL_LIST
      ip: {}
      schema_version: {}
      url:
        simple: www.ynet.co.il
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_url
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete content from a policy in Symantec MC
      id: 1b8de37d-53b5-432d-8f41-b818ba825d6a
      iscommand: true
      name: Delete URL content
      script: Symantec Management Center|||symantec-mc-delete-policy-content
      type: regular
      version: -1
    taskid: 1b8de37d-53b5-432d-8f41-b818ba825d6a
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 7135\n  }\n}"
  '25':
    id: '25'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '24'
    note: false
    scriptarguments:
      category:
        simple: his cat
      change_description:
        simple: test
      content_type:
        simple: CATEGORY_LIST
      ip: {}
      schema_version: {}
      url: {}
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_category
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete content from a policy in Symantec MC
      id: 31d311cd-badb-4889-862a-0710a9ce1de4
      iscommand: true
      name: Delete Category content
      script: Symantec Management Center|||symantec-mc-delete-policy-content
      type: regular
      version: -1
    taskid: 31d311cd-badb-4889-862a-0710a9ce1de4
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 6960\n  }\n}"
  '26':
    id: '26'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '43'
    note: false
    scriptarguments:
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get a policy from Symantec MC
      id: f1267bc4-cbc8-4c3e-8a39-c6d430f96a0d
      iscommand: true
      name: Get IP policy
      script: Symantec Management Center|||symantec-mc-get-policy
      type: regular
      version: -1
    taskid: f1267bc4-cbc8-4c3e-8a39-c6d430f96a0d
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 7485\n  }\n}"
  '27':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Policy.IP.Address
          operator: isEqualString
          right:
            value:
              simple: 2.2.2.2
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Policy.URL.Address
          operator: isEqualString
          right:
            value:
              simple: www.youtube.com
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Policy.Category.Name
          operator: isEqualString
          right:
            value:
              simple: my cat
      - - left:
            iscontext: true
            value:
              complex:
                accessor: Policy
                root: SymantecMC
                transformers:
                - args:
                    equalTo:
                      value:
                        simple: test_policy_ip
                    field:
                      value:
                        simple: Name
                    getField:
                      value:
                        simple: Description
                  operator: WhereFieldEquals
          operator: isEqualString
          right:
            value:
              simple: test2
      label: 'yes'
    id: '27'
    ignoreworker: false
    nexttasks:
      'yes':
      - '40'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 8a042aa8-0546-4e40-8429-b4e8bd2d406b
      iscommand: false
      name: Did we get all the policy data?
      type: condition
      version: -1
    taskid: 8a042aa8-0546-4e40-8429-b4e8bd2d406b
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 8010\n  }\n}"
  '28':
    id: '28'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '19'
    note: false
    scriptarguments:
      description:
        simple: test2
      name: {}
      reference_id: {}
      replace_variables: {}
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Update the metadata for a policy in Symantec MC
      id: 846f176d-bb3c-4397-8473-3cbcd748e062
      iscommand: true
      name: Update IP policy description
      script: Symantec Management Center|||symantec-mc-update-policy
      type: regular
      version: -1
    taskid: 846f176d-bb3c-4397-8473-3cbcd748e062
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 6260\n  }\n}"
  '29':
    id: '29'
    ignoreworker: false
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 0b9b04a6-6f6b-4613-8bdd-6d3c6e24f89f
      iscommand: false
      name: Done
      type: title
      version: -1
    taskid: 0b9b04a6-6f6b-4613-8bdd-6d3c6e24f89f
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 8710\n  }\n}"
  '3':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Device.Name
          operator: isEqualString
          right:
            value:
              simple: 192.168.1.207 - Blue Coat SG-VA Series
      label: 'yes'
    id: '3'
    ignoreworker: false
    nexttasks:
      'yes':
      - '5'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 747ec7e0-4bdb-4c47-817f-aa58b5eb4772
      iscommand: false
      name: Did we get the correct device?
      type: condition
      version: -1
    taskid: 747ec7e0-4bdb-4c47-817f-aa58b5eb4772
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1070\n  }\n}"
  '30':
    id: '30'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '45'
    note: false
    scriptarguments:
      all:
        simple: 'yes'
      index: {}
      key: {}
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: 59414235-db82-4461-83fe-d350b29cc686
      iscommand: false
      name: DeleteContext
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: 59414235-db82-4461-83fe-d350b29cc686
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 195\n  }\n}"
  '31':
    id: '31'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '32'
    note: false
    scriptarguments:
      content_type: {}
      description: {}
      limit: {}
      name:
        simple: EQ test_policy_ip
      reference_id: {}
      shared: {}
      tenant: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: List policies in Symantec MC
      id: 7bdb36ac-d087-429c-8fe2-9f6047fb69e0
      iscommand: true
      name: Search for the IP policy
      script: Symantec Management Center|||symantec-mc-list-policies
      type: regular
      version: -1
    taskid: 7bdb36ac-d087-429c-8fe2-9f6047fb69e0
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3285\n  }\n}"
  '32':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Policy.UUID
          operator: isExists
      label: 'yes'
    id: '32'
    ignoreworker: false
    nexttasks:
      '#default#':
      - '10'
      'yes':
      - '33'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: d695bee1-1583-4986-8aa8-88c970bdab6d
      iscommand: false
      name: Does it exist?
      type: condition
      version: -1
    taskid: d695bee1-1583-4986-8aa8-88c970bdab6d
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3460\n  }\n}"
  '33':
    id: '33'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '34'
    note: false
    scriptarguments:
      force: {}
      uuid:
        simple: ${SymantecMC.Policy.UUID}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete a policy in Symantec MC
      id: 8eddbcbf-4b95-4bc0-8b3c-11f00636e65c
      iscommand: true
      name: Delete the policy
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      version: -1
    taskid: 8eddbcbf-4b95-4bc0-8b3c-11f00636e65c
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 3635\n  }\n}"
  '34':
    id: '34'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '10'
    note: false
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: SymantecMC.Policy
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: d7f74dcd-5b72-4a93-8c11-3616e641341c
      iscommand: false
      name: Delete key
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: d7f74dcd-5b72-4a93-8c11-3616e641341c
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 3810\n  }\n}"
  '35':
    id: '35'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '36'
    note: false
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: SymantecMC.Policy
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: 3a482096-df21-4eae-851c-fa525157aa4b
      iscommand: false
      name: Delete key
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: 3a482096-df21-4eae-851c-fa525157aa4b
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 4510\n  }\n}"
  '36':
    id: '36'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '37'
    note: false
    scriptarguments:
      content_type: {}
      description: {}
      limit: {}
      name:
        simple: EQ test_policy_category
      reference_id: {}
      shared: {}
      tenant: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: List policies in Symantec MC
      id: 505dc2af-3f03-42a6-804e-cab628a3aa44
      iscommand: true
      name: Search for the category policy
      script: Symantec Management Center|||symantec-mc-list-policies
      type: regular
      version: -1
    taskid: 505dc2af-3f03-42a6-804e-cab628a3aa44
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4685\n  }\n}"
  '37':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Policy
          operator: isExists
      label: 'yes'
    id: '37'
    ignoreworker: false
    nexttasks:
      '#default#':
      - '18'
      'yes':
      - '38'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: f766a2e1-214d-41af-80f7-090709b6940b
      iscommand: false
      name: Does it exist?
      type: condition
      version: -1
    taskid: f766a2e1-214d-41af-80f7-090709b6940b
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 4860\n  }\n}"
  '38':
    id: '38'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '39'
    note: false
    scriptarguments:
      force: {}
      uuid:
        simple: ${SymantecMC.Policy.UUID}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete a policy in Symantec MC
      id: ab096a1c-3b44-4fc2-8d33-4482f7978c6e
      iscommand: true
      name: Delete the policy
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      version: -1
    taskid: ab096a1c-3b44-4fc2-8d33-4482f7978c6e
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 5035\n  }\n}"
  '39':
    id: '39'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '18'
    note: false
    scriptarguments:
      all: {}
      index: {}
      key:
        simple: SymantecMC.Policy
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    task:
      brand: ''
      description: Delete field from context
      id: adc62d6a-bc3a-4b61-8292-9ca5cd18d540
      iscommand: false
      name: Delete key
      scriptName: DeleteContext
      type: regular
      version: -1
    taskid: adc62d6a-bc3a-4b61-8292-9ca5cd18d540
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 162.5,\n    \"y\": 5210\n  }\n}"
  '4':
    id: '4'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '6'
    note: false
    scriptarguments:
      uuid:
        simple: ${SymantecMC.Device.UUID}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get the health information for a device in Symantec MC
      id: 51a0dfed-e6cd-46fc-826d-55c76f8c024f
      iscommand: true
      name: symantec-mc-get-device-health
      script: Symantec Management Center|||symantec-mc-get-device-health
      type: regular
      version: -1
    taskid: 51a0dfed-e6cd-46fc-826d-55c76f8c024f
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1390\n  }\n}"
  '40':
    id: '40'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '41'
    note: false
    scriptarguments:
      force: {}
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_ip
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete a policy in Symantec MC
      id: f3df7bfe-08ee-4962-85bf-90753f639187
      iscommand: true
      name: Delete IP policy
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      version: -1
    taskid: f3df7bfe-08ee-4962-85bf-90753f639187
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 8185\n  }\n}"
  '41':
    id: '41'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '42'
    note: false
    scriptarguments:
      force: {}
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_url
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete a policy in Symantec MC
      id: 4f3fbb0a-ebe5-4ba3-8923-39ad21ea9cf2
      iscommand: true
      name: Delete URL policy
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      version: -1
    taskid: 4f3fbb0a-ebe5-4ba3-8923-39ad21ea9cf2
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 8360\n  }\n}"
  '42':
    id: '42'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '29'
    note: false
    scriptarguments:
      force: {}
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_category
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Delete a policy in Symantec MC
      id: 1e0d5764-ce9c-46b5-866a-52c115562d1a
      iscommand: true
      name: Delete category policy
      script: Symantec Management Center|||symantec-mc-delete-policy
      type: regular
      version: -1
    taskid: 1e0d5764-ce9c-46b5-866a-52c115562d1a
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 8535\n  }\n}"
  '43':
    id: '43'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '44'
    note: false
    scriptarguments:
      name:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_url
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: Name
            operator: WhereFieldEquals
      uuid: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get a policy from Symantec MC
      id: de19de2d-994a-41c0-8b55-2601b744403b
      iscommand: true
      name: Get URL policy with name
      script: Symantec Management Center|||symantec-mc-get-policy
      type: regular
      version: -1
    taskid: de19de2d-994a-41c0-8b55-2601b744403b
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 7660\n  }\n}"
  '44':
    id: '44'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '27'
    note: false
    scriptarguments:
      uuid:
        complex:
          accessor: Policy
          root: SymantecMC
          transformers:
          - args:
              equalTo:
                value:
                  simple: test_policy_category
              field:
                value:
                  simple: Name
              getField:
                value:
                  simple: UUID
            operator: WhereFieldEquals
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get a policy from Symantec MC
      id: c6a3ddee-99b2-48e1-80f9-78a5479c33fd
      iscommand: true
      name: Get category policy
      script: Symantec Management Center|||symantec-mc-get-policy
      type: regular
      version: -1
    taskid: c6a3ddee-99b2-48e1-80f9-78a5479c33fd
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 7835\n  }\n}"
  '45':
    continueonerror: true
    id: '45'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '46'
    note: false
    scriptarguments:
      uuid:
        simple: '123'
    separatecontext: false
    task:
      brand: ''
      description: Get a device from Symantec MC
      id: 0eec6154-9275-45df-887d-845e29e16885
      iscommand: true
      name: Get non-existing device
      script: '|||symantec-mc-get-device'
      type: regular
      version: -1
    taskid: 0eec6154-9275-45df-887d-845e29e16885
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 370\n  }\n}"
  '46':
    id: '46'
    ignoreworker: false
    nexttasks:
      'yes':
      - '1'
    note: false
    scriptarguments:
      entryId:
        simple: ${lastCompletedTaskEntries}
    separatecontext: false
    task:
      brand: ''
      description: Check whether given entry/entries returned an error. Use ${lastCompletedTaskEntries}
        to check the previous task entries. If array is provided, will return yes
        if one of the entries returned an error.
      id: 4a90f660-de80-472b-8c94-e1358cc90ffa
      iscommand: false
      name: Check Error
      scriptName: isError
      type: condition
      version: -1
    taskid: 4a90f660-de80-472b-8c94-e1358cc90ffa
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 545\n  }\n}"
  '47':
    continueonerror: true
    id: '47'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '48'
    note: false
    scriptarguments:
      content_type: {}
      description: {}
      limit: {}
      name:
        simple: blabla
      reference_id: {}
      shared: {}
      tenant: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: List policies in Symantec MC
      id: fb45c023-8f5f-4b33-88fd-5ae6941d2f0d
      iscommand: true
      name: Try using illegal filter
      script: Symantec Management Center|||symantec-mc-list-policies
      type: regular
      version: -1
    taskid: fb45c023-8f5f-4b33-88fd-5ae6941d2f0d
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2235\n  }\n}"
  '48':
    id: '48'
    ignoreworker: false
    nexttasks:
      'yes':
      - '51'
    note: false
    scriptarguments:
      entryId:
        simple: ${lastCompletedTaskEntries}
    separatecontext: false
    task:
      brand: ''
      description: Check whether given entry/entries returned an error. Use ${lastCompletedTaskEntries}
        to check the previous task entries. If array is provided, will return yes
        if one of the entries returned an error.
      id: 7d70c537-dd95-4797-896d-52e06f97106c
      iscommand: false
      name: Check Error
      scriptName: isError
      type: condition
      version: -1
    taskid: 7d70c537-dd95-4797-896d-52e06f97106c
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2410\n  }\n}"
  '5':
    id: '5'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '4'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 4721542c-eb40-4573-88c9-1b3c10181828
      iscommand: false
      name: Get Device Status
      type: title
      version: -1
    taskid: 4721542c-eb40-4573-88c9-1b3c10181828
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1245\n  }\n}"
  '51':
    continueonerror: true
    id: '51'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '52'
    note: false
    scriptarguments:
      uuid:
        simple: '123'
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get a policy from Symantec MC
      id: 4b66fc64-cca6-4b7b-83a8-6e890428eaed
      iscommand: true
      name: Get non existing policy
      script: Symantec Management Center|||symantec-mc-get-policy
      type: regular
      version: -1
    taskid: 4b66fc64-cca6-4b7b-83a8-6e890428eaed
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2585\n  }\n}"
  '52':
    id: '52'
    ignoreworker: false
    nexttasks:
      'yes':
      - '53'
    note: false
    scriptarguments:
      entryId:
        simple: ${lastCompletedTaskEntries}
    separatecontext: false
    task:
      brand: ''
      description: Check whether given entry/entries returned an error. Use ${lastCompletedTaskEntries}
        to check the previous task entries. If array is provided, will return yes
        if one of the entries returned an error.
      id: 852da456-d987-485f-8554-0040c52775d4
      iscommand: false
      name: Check Error
      scriptName: isError
      type: condition
      version: -1
    taskid: 852da456-d987-485f-8554-0040c52775d4
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2760\n  }\n}"
  '53':
    continueonerror: true
    id: '53'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '54'
    note: false
    scriptarguments:
      name:
        simple: '123'
      uuid: {}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get a policy from Symantec MC
      id: 68563777-809f-4f4e-89e6-4d286efaa27f
      iscommand: true
      name: Get non existing policy with name
      script: Symantec Management Center|||symantec-mc-get-policy
      type: regular
      version: -1
    taskid: 68563777-809f-4f4e-89e6-4d286efaa27f
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2935\n  }\n}"
  '54':
    id: '54'
    ignoreworker: false
    nexttasks:
      'yes':
      - '31'
    note: false
    scriptarguments:
      entryId:
        simple: ${lastCompletedTaskEntries}
    separatecontext: false
    task:
      brand: ''
      description: Check whether given entry/entries returned an error. Use ${lastCompletedTaskEntries}
        to check the previous task entries. If array is provided, will return yes
        if one of the entries returned an error.
      id: 96927dfd-a76c-4097-8008-2cc2508ff08d
      iscommand: false
      name: Check Error
      scriptName: isError
      type: condition
      version: -1
    taskid: 96927dfd-a76c-4097-8008-2cc2508ff08d
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 3110\n  }\n}"
  '6':
    id: '6'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '7'
    note: false
    scriptarguments:
      uuid:
        simple: ${SymantecMC.Device.UUID}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get license information for a device in Symantec MC
      id: be5d43ca-d554-46f1-8181-1e56edf9c19c
      iscommand: true
      name: symantec-mc-get-device-license
      script: Symantec Management Center|||symantec-mc-get-device-license
      type: regular
      version: -1
    taskid: be5d43ca-d554-46f1-8181-1e56edf9c19c
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1565\n  }\n}"
  '7':
    id: '7'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '8'
    note: false
    scriptarguments:
      uuid:
        simple: ${SymantecMC.Device.UUID}
    separatecontext: false
    task:
      brand: Symantec Management Center
      description: Get the status of a device in Symantec MC
      id: 6c4eee5a-6b65-4cc2-8002-508b97d8ee3a
      iscommand: true
      name: symantec-mc-get-device-status
      script: Symantec Management Center|||symantec-mc-get-device-status
      type: regular
      version: -1
    taskid: 6c4eee5a-6b65-4cc2-8002-508b97d8ee3a
    timertriggers: []
    type: regular
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1740\n  }\n}"
  '8':
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Device.Health
          operator: isExists
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Device.LicenseComponent
          operator: isExists
      - - left:
            iscontext: true
            value:
              simple: SymantecMC.Device.MonitorState
          operator: isExists
      label: 'yes'
    id: '8'
    ignoreworker: false
    nexttasks:
      'yes':
      - '9'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 64e74173-f20f-43db-8623-3b28ea268f05
      iscommand: false
      name: Did we get all the details?
      type: condition
      version: -1
    taskid: 64e74173-f20f-43db-8623-3b28ea268f05
    timertriggers: []
    type: condition
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 1915\n  }\n}"
  '9':
    id: '9'
    ignoreworker: false
    nexttasks:
      '#none#':
      - '47'
    note: false
    separatecontext: false
    task:
      brand: ''
      id: 358a82b8-f915-46a7-828b-c9ac814636c5
      iscommand: false
      name: Manage Policy
      type: title
      version: -1
    taskid: 358a82b8-f915-46a7-828b-c9ac814636c5
    timertriggers: []
    type: title
    view: "{\n  \"position\": {\n    \"x\": 50,\n    \"y\": 2090\n  }\n}"
toversion: 4.1.9
version: -1
view: "{\n  \"linkLabelsPosition\": {},\n  \"paper\": {\n    \"dimensions\": {\n \
  \     \"height\": 8725,\n      \"width\": 492.5,\n      \"x\": 50,\n      \"y\"\
  : 50\n    }\n  }\n}"
