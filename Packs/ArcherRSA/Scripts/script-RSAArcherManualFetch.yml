args:
- description: 'ID of the application to get the incident from. For example: applicationId="75"'
  name: applicationId
  required: true
- description: 'The Incident IDs to get details for, separated by commas. For example:
    IncidentIds="12345,67891" '
  name: incidentIds
  required: true
comment: 'This automation creates new incidents from RSA Archer. '
commonfields:
  id: RSAArcherManualFetch
  version: -1
dependson:
  must:
  - archer-manually-fetch-incident
enabled: true
name: RSAArcherManualFetch
runonce: false
script: "fetchArgs = {\"applicationId\": demisto.args()[\"applicationId\"],\n    \
  \     \"incidentIds\": demisto.args()[\"incidentIds\"]}\n\nincidents = demisto.executeCommand(\"\
  archer-manually-fetch-incident\", fetchArgs)\n\nincidentIds = \"\"\nfor incident\
  \ in incidents:\n    incidentData = incident['Contents']\n    incidentArgs = {\n\
  \    \"details\": incidentData['details'],\n    \"labels\": incidentData['labels'],\n\
  \    \"name\": incidentData['name'],\n    \"occurred\": incidentData['occurred'],\n\
  \    \"type\": \"Archer\"\n    }\n    result = demisto.executeCommand(\"createNewIncident\"\
  , incidentArgs)\n\ndemisto.results(\"Fetched according to command.\")"
scripttarget: 0
subtype: python2
tags: []
toversion: 4.1.9
type: python
