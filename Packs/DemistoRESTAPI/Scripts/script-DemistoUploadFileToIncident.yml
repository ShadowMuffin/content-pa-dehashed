args:
- description: ID of incident to upload to
  name: incident_id
  required: true
- description: Entry ID of file to upload
  name: entryID
- description: Request body
  name: body
comment: "Copies a file from this incident to the specified incident. The file is\
  \ uploaded as an attachment to the specified incident\u2019s Summary page, and recorded\
  \ as an entry in the War Room."
commonfields:
  id: DemistoUploadFileToIncident
  version: -1
dependson:
  must:
  - demisto-api-multipart
enabled: true
name: DemistoUploadFileToIncident
runas: DBotWeakRole
runonce: false
script: "args = demisto.args()\nincident_id = args.get('incident_id')\nentry_id =\
  \ args.get('entryID')\nbody = args.get('body', None)\n\nresponse = demisto.executeCommand(\"\
  demisto-api-multipart\", {\"uri\":\"incident/upload/{}\".format(incident_id),\"\
  entryID\":entry_id,\"body\":body})[0]\nif isError(response):\n    demisto.results({\
  \ \"Type\" : entryTypes[\"error\"], \"ContentsFormat\" : formats[\"text\"], \"Contents\"\
  \ : \"There was an issue uploading file.  Check API key and input arguments.\"})\n\
  else:\n    if body:\n        demisto.results(\"Successfully uploaded file to incident.\
  \ Comment is:\" + body)\n    else:\n        demisto.results(\"Successfully uploaded\
  \ file to incident\")"
scripttarget: 0
subtype: python2
tags:
- DemistoAPI
toversion: 4.1.9
type: python
