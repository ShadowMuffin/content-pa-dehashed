args:
- description: ID of a war room entry containing a file to be uploaded to the WildFire
    service
  name: upload
  required: true
comment: Deprecated. Use the "wildfire-upload" command instead.
commonfields:
  id: WildfireUpload
  version: -1
dependson:
  must:
  - wildfire-upload
deprecated: true
name: WildfireUpload
script: "var raw = executeCommand('wildfire-upload', {uploadfile: args.upload});\n\
  if (!raw[0].Contents.wildfire || !raw[0].Contents.wildfire['upload-file-info'])\
  \ {\n    if (raw[0].Contents.indexOf('Failed to upload, error 418') > -1) {\n  \
  \      return {Contents: 'WildFire does not support this file type.',\n        \
  \        ContentsFormat: formats.text,\n                Type: entryTypes.error};\n\
  \    } else {\n        return raw;\n    }\n}\nvar item = raw[0].Contents.wildfire['upload-file-info'];\n\
  return {Contents: {\n    Type: item.filetype,\n    MD5: item.md5,\n    SHA256: item.sha256,\n\
  \    Size: item.size,\n    URL: item.url},\n    ContentsFormat: formats.table,\n\
  \    Type: entryTypes.note};"
scripttarget: 0
system: true
tags:
- wildfire
- sandbox
tests:
- No tests
timeout: 0s
toversion: 4.1.9
type: javascript
