args:
- default: true
  description: The domain name. Use this field to get fields from only one domain.
    To return all domains for a customer account, use the customer query parameter
    instead. Either the customer or the domain parameter must be provided.
  name: domain
- description: The unique ID for the customers Google account, by default will use
    the value in the integration page. In case of a multi-domain account, to fetch
    all groups for a customer, fill this field instead of domain. As an account administrator,
    you can also use the my_customer alias to represent your accounts customerId.
    The customerId is also returned as part of the Users resource. Either the customer
    or the domain parameter must be provided.
  name: customer
- auto: PREDEFINED
  description: Whether to fetch the administrator-only or domain-wide public view
    of the user, will use admin_view(Results include both administrator-only and domain-public
    fields for the user) by default, if true will use "domain_public"(Results only
    include fields for the user that are publicly visible to other users in the domain)
  name: viewTypePublicDomain
- description: Maximum number of results to return. Default is 100. Maximum is 500.
    Acceptable values are 1 to 500, inclusive.
  name: maxResults
- description: A comma-separated list of schema names. All fields from these schemas
    are fetched. This should only be set when projection=custom.
  name: customFieldMask
- description: 'Event sets the optional parameter "event": Event on which subscription
    is intended (if subscribing), Possible values: add/delete/makeAdmin/undelete/update'
  name: event
- description: Query string search. Should be of the form "". Complete documentation
    is at https://developers.google.com/admin-sdk/directory/v1/guides/search-users
  name: query
- description: 'What subset of fields to fetch for this user, Acceptable values are:
    "basic": Do not include any custom fields for the user. (default), "custom": Include
    custom fields from schemas requested in customFieldMask, "full": Include all fields
    associated with this user.'
  name: projection
- auto: PREDEFINED
  description: If set to true, retrieves the list of deleted users. Default is false.
  name: showDeleted
- description: 'Whether to return results in ascending or descending order. possible
    values : ASCENDING/DESCENDING'
  name: sortOrder
comment: Retrieves a paginated list of either deleted users or all users in a domain
commonfields:
  id: GoogleappsListUsers
  version: -1
dependson:
  must:
  - googleapps-list-users
deprecated: true
name: GoogleappsListUsers
script: "\nimport re\n\nargs = demisto.args()\nfor key in args.keys():\n    args[re.sub(r'([A-Z])',lambda\
  \ x:'-'+x.group(1).lower(),key)] = args.pop(key)\nresp = demisto.executeCommand(\"\
  googleapps-list-users\", args)\n\nif isError(resp[0]):\n    demisto.results(resp)\n\
  else:\n    data = demisto.get(resp[0], \"Contents\")\n    if data:\n        data\
  \ = data if isinstance(data, list) else [data]\n        data = [{k: formatCell(row[k])\
  \ for k in row} for row in data]\n        demisto.results({\"ContentsFormat\": formats[\"\
  table\"], \"Type\": entryTypes[\"note\"], \"Contents\": data} )\n    else:\n   \
  \     demisto.results(\"No results.\")\n"
scripttarget: 0
subtype: python2
system: true
tags:
- google apps
timeout: 0s
toversion: 4.1.9
type: python
