comment: Common code that will be merged into each server integration when it runs
commonfields:
  id: CommonIntegration
  version: -1
dependson: {}
deprecated: true
name: CommonIntegration
script: "function encodeToURLQuery(args) {\n        var query = '';\n        if (args)\
  \ {\n            var keys = Object.keys(args);\n            if (keys.length > 0)\
  \ {\n                query = '?';\n                for (var i = 0; i<keys.length;\
  \ i++) {\n                    if (i !== 0) {\n                        query += '&';\n\
  \                    }\n                    query += encodeURIComponent(keys[i])\
  \ + '=' + encodeURIComponent(args[keys[i]]);\n                }\n            }\n\
  \        }\n        return query;\n};\n\nfunction replaceInTemplates(input, args)\
  \ {\n  var res = input;\n  var keys = Object.keys(args);\n  for (var i = 0; i <\
  \ keys.length; i++) {\n    res = res.split('%' + keys[i] + '%').join(args[keys[i]]);\n\
  \  }\n  return res;\n};\n\nfunction replaceInTemplatesAndRemove(input, args) {\n\
  \    var res = input;\n    var keys = Object.keys(args);\n    for (var i = 0; i\
  \ < keys.length; i++) {\n      if (res.indexOf('%' +  keys[i] + '%') !== -1) {\n\
  \        res = res.split('%' + keys[i] + '%').join(args[keys[i]]);\n        delete(args[keys[i]]);\n\
  \      }\n    }\n    return res;\n};\n\nvar xmlReservedChars = {\n  '&': '&amp;',\n\
  \  '\\\"': '&quot;',\n  '\\'': '&apos;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\n\n\
  function escapeXMLChars(input) {\n    var res = input;\n    var keys = Object.keys(xmlReservedChars);\n\
  \    for (var i = 0; i < keys.length; i++) {\n        res = res.split(keys[i]).join(xmlReservedChars[keys[i]]);\n\
  \    }\n    return res;\n};"
scripttarget: 0
system: true
tags:
- infra
- server
timeout: 0s
toversion: 4.1.9
type: javascript
