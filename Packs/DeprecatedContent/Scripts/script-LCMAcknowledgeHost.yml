args:
- default: true
  description: The host's name
  name: name
- description: The host's IP address
  name: ip
comment: This script is deprecated. LightCyber Magna is no longer available.
commonfields:
  id: LCMAcknowledgeHost
  version: -1
dependson:
  must:
  - lcm-acknowledge-host
deprecated: true
name: LCMAcknowledgeHost
script: "import re\nID_REGEX = r'Id: ([a-zA-Z0-9\\-]+)'\n\ndArgs = demisto.args()\n\
  resp = demisto.executeCommand(\"LCMHosts\", dArgs)\nif isError(resp[0]):\n    demisto.results(resp)\n\
  elif  resp[0]['Contents'] == 'No results.':\n    demisto.results('Host not found\
  \ in LightCyber.')\nelse:\n    demisto.log(str(resp))\n    hosts = resp[0]['Contents']\n\
  \    if isinstance(hosts, list) and len(hosts) == 1 :\n        reMatch = re.search(ID_REGEX,\
  \ hosts[0]['HostId'], re.I)\n        if reMatch and len(reMatch.groups()) > 0:\n\
  \            hostID = reMatch.group(1)\n        if hostID:\n            resp = demisto.executeCommand(\"\
  lcm-acknowledge-host\", {'id': hostID})\n            if isError(resp[0]) or resp[0]['Contents']\
  \ != 'No result returned':\n                demisto.results(resp)\n            else:\n\
  \                demisto.results('Done')\n        else:\n            demisto.results(\
  \ { \"Type\" : entryTypes[\"error\"], \"ContentsFormat\" : formats[\"text\"], \"\
  Contents\" : 'Could not extract host ID.' } )\n    else:\n        demisto.results(\
  \ { \"Type\" : entryTypes[\"error\"], \"ContentsFormat\" : formats[\"text\"], \"\
  Contents\" : 'Results weren\\'t a single host: ' + str(resp)[:3000] } )\n"
scripttarget: 0
subtype: python2
system: true
tags:
- lightcyber
timeout: 0s
toversion: 4.1.9
type: python
