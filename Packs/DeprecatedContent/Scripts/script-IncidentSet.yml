args:
- description: Incident owner - must be an existing user in the platform
  name: owner
- description: Assigned new playbook name
  name: playbook
- description: Incident stage - must be from a predefined list of stages
  name: stage
- description: Incident details
  name: details
- auto: PREDEFINED
  description: The severity to set. Can be "unknown", "low","medium","high" or "critical".
  name: severity
  predefined:
  - unknown
  - low
  - medium
  - high
  - critical
- description: Incident type
  name: type
- default: true
  description: Incident name
  name: name
- description: Should we also update the playbook according to the new given type.
    Can be yes or no. Default is yes.
  name: updatePlaybookForType
- description: 'Set and override the labels for the incident. Labels expected format
    is [{"labelName": "labelValue"}, {"labelName1": "labelValue1"}] (JSON).'
  name: labels
- description: 'Add to the list of labels for the incident. Labels expected format
    is [{"labelName": "labelValue"}, {"labelName1": "labelValue1"}] (JSON).'
  name: addLabels
- description: Name for a custom field you want to change
  name: customFieldName
- description: The value you want to set for the field specified in customFieldName
  name: customFieldValue
comment: Modify incident info such as name, owner, type, etc.
commonfields:
  id: IncidentSet
  version: -1
dependson: {}
deprecated: true
fromversion: 3.5.1
name: IncidentSet
script: "res = []\ndArgs = {}\ninArgs= demisto.args()\nif demisto.get(inArgs, 'owner'):\n\
  \    res += demisto.executeCommand(\"setOwner\", {'owner': inArgs['owner']})\nif\
  \ demisto.get(inArgs, 'stage'):\n    res += demisto.executeCommand(\"setStage\"\
  , {'stage': inArgs['stage']})\nif demisto.get(inArgs, 'name'):\n    dArgs['name']\
  \ = inArgs['name']\nif demisto.get(inArgs, 'details'):\n    dArgs['details'] = inArgs['details']\n\
  if demisto.get(inArgs, 'severity'):\n    dArgs['severity'] = inArgs['severity']\n\
  if demisto.get(inArgs, 'labels'):\n    dArgs['labels'] = inArgs['labels']\nif demisto.get(inArgs,\
  \ 'addLabels'):\n    dArgs['addLabels'] = inArgs['addLabels']\nif demisto.get(inArgs,\
  \ 'customFieldName'):\n    v = demisto.get(inArgs, 'customFieldValue')\n    if v:\n\
  \        dArgs['customFields'] = json.dumps({demisto.get(inArgs, 'customFieldName'):\
  \ v})\nif demisto.get(inArgs, 'type'):\n    dArgs['type'] = inArgs['type']\n   \
  \ if (not demisto.get(inArgs, 'updatePlaybookForType') or demisto.get(inArgs, 'updatePlaybookForType')\
  \ == 'yes') and not demisto.get(inArgs, 'playbook'):\n        dArgs['replacePlaybook']\
  \ = 'yes'\nif dArgs:\n    res += demisto.executeCommand(\"setIncident\", dArgs)\n\
  if demisto.get(inArgs, 'playbook'):\n    res += demisto.executeCommand(\"setPlaybook\"\
  , {'name': inArgs['playbook']})\ndemisto.results(res)"
scripttarget: 0
subtype: python2
system: true
tags:
- management
timeout: 0s
toversion: 4.1.9
type: python
